
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>3. Loops and String Manipulation &#8212; Conversational Python 2.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="4. Functions" href="ch4_funcs.html" />
    <link rel="prev" title="2. Conditionals" href="ch2_cond.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="loops-and-string-manipulation">
<span id="ch-loops"></span><h1><span class="section-number">3. </span>Loops and String Manipulation<a class="headerlink" href="#loops-and-string-manipulation" title="Permalink to this headline">¶</a></h1>
<section id="while-loops">
<h2><span class="section-number">3.1. </span><code class="docutils literal notranslate"><span class="pre">while</span></code> loops<a class="headerlink" href="#while-loops" title="Permalink to this headline">¶</a></h2>
<p>Most of the examples of code we’ve seen so far have been fairly short – a few
lines here and there.  Now we’re going to start looking at programs that are a
bit longer.  Don’t be too daunted by this.  If you practice, you’ll gain comfort
with knowing how to break down programs section by section.  Let’s go ahead and
practice doing this starting with this chapter.</p>
<p>Sometimes we’ll want to repeat an action in code.  One example might be that we
repeatedly ask the user for input until we run out of that input.  Suppose we
write a program that calculates the amount of sales tax on different items at a
store.  We might write the code found in Listing <a class="reference internal" href="#sales-tax"><span class="std std-numref">3.1</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<span id="sales-tax"></span><div class="code-block-caption"><span class="caption-number">Listing 3.1 </span><span class="caption-text">Code to compute total cost on items including sales tax</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">tax</span> <span class="o">=</span> <span class="mf">0.07</span>   <span class="c1"># that is, 7 percent</span>
<span class="linenos"> 2</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Enter the amount of each item.&quot;</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Enter &#39;quit&#39; to end the program.&quot;</span><span class="p">)</span>
<span class="linenos"> 4</span><span class="n">amount</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Amount of item? &quot;</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="k">while</span> <span class="n">amount</span> <span class="o">!=</span> <span class="s2">&quot;quit&quot;</span><span class="p">:</span>
<span class="linenos"> 6</span>    <span class="n">amount</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
<span class="linenos"> 7</span>    <span class="n">total</span> <span class="o">=</span> <span class="p">(</span><span class="n">amount</span> <span class="o">*</span> <span class="n">tax</span><span class="p">)</span> <span class="o">+</span> <span class="n">amount</span>
<span class="linenos"> 8</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The total for that item will be </span><span class="si">%.2f</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="n">total</span><span class="p">)</span>
<span class="linenos"> 9</span>    <span class="n">amount</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Amount of item? &quot;</span><span class="p">)</span>
<span class="linenos">10</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Thank you for using this program.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>To some readers, this program might look intimidating at first, but each section
contains ideas we’ve seen before.  We’ve just added one idea after the next.
So, what are these familiar code sections?  Well, we are getting input from the
user.  If the input is not the word “quit,” we cast the amount to a float (line
6) and compute the total price of the item with tax included (line 7).</p>
<p>What is special about the above code is the keyword <code class="docutils literal notranslate"><span class="pre">while</span></code> in line 5.  <code class="docutils literal notranslate"><span class="pre">while</span></code>
works similar to <code class="docutils literal notranslate"><span class="pre">if</span></code> in many ways.  When we use <code class="docutils literal notranslate"><span class="pre">if</span></code>, we specify a Boolean
condition immediately after the word <code class="docutils literal notranslate"><span class="pre">if</span></code>, and if the condition is <code class="docutils literal notranslate"><span class="pre">True</span></code>,
Python executes the code that is indented beneath it.  <code class="docutils literal notranslate"><span class="pre">while</span></code> works the same
way, however, once we reach the end of the indented block, the code “loops” back
up to the condition again.  If the condition is again <code class="docutils literal notranslate"><span class="pre">True</span></code>, we reenter the
indented block of code.  Thus, we can make code repeat itself as long as a
condition is met.  A programming language “construct” that allows code to be
repeated is known as a <em>loop</em>.</p>
<p>We call the expression <code class="docutils literal notranslate"><span class="pre">amount</span> <span class="pre">!=</span> <span class="pre">&quot;quit&quot;</span></code> in Listing <a class="reference internal" href="#sales-tax"><span class="std std-numref">3.1</span></a>
the <em>loop condition</em>.
We call the indented block of statements that follows the loop condition the
<em>loop body</em>. We say that the statements in the indented block are <em>inside</em> the
loop body. The final <cite>print</cite> statement in line 10 of
Listing <a class="reference internal" href="#sales-tax"><span class="std std-numref">3.1</span></a> is not indented and is therefore <em>outside</em> the loop
body.</p>
<p>Try out the code above if you haven’t already.  Does it behave the way you
expect?</p>
<p>Now, notice that we ask for input twice in this program: once just before we try
to enter the loop (line 4), and once at the end of the indented block inside the
loop body (line 9).  Why?  The value returned by the initial <code class="docutils literal notranslate"><span class="pre">input</span></code> statement
gets us into the loop body, though it doesn’t have to.  It is possible that the
user types “quit” right away, in which case the program bypasses the loop and
prints our “thank you” message.  At the end of the loop body, we need to ask the
user for the next input value, so that we have a new amount.  Otherwise, the
program would just continue to calculate the same total value over and over
again and the program would never have the chance to end.</p>
<p>To see this for yourself, delete the last line of the loop body in
Listing <a class="reference internal" href="#sales-tax"><span class="std std-numref">3.1</span></a>, i.e., delete line 9. Instead of deleting it, you
could just comment it out by putting a <code class="docutils literal notranslate"><span class="pre">#</span></code> symbol at the start of that line.
Run your code and type an initial amount, say, <code class="docutils literal notranslate"><span class="pre">4.00</span></code>. Your code will endlessly
compute sales tax with no end in sight!  Press the “Control” and “C” keys
simultaneously to abort your program (we will write this <code class="docutils literal notranslate"><span class="pre">Ctrl+C</span></code> in the future
because that’s how programmers write such things).</p>
<p>With this in mind, we will often see loops written using the pattern in
Figure <a class="reference internal" href="#while-tmpl"><span class="std std-numref">3.1</span></a>.</p>
<figure class="align-default" id="id2">
<span id="while-tmpl"></span><a class="reference internal image-reference" href="_images/while_tmpl.png"><img alt="A common `while` loop" src="_images/while_tmpl.png" style="width: 314.0px; height: 110.0px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 3.1 </span><span class="caption-text">A common <cite>while</cite> loop</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>We call each new time through the body of the loop an <em>iteration</em>.  We may refer
to the first iteration, second iteration, next iteration, final iteration, etc.,
when discussing the behavior of a loop.</p>
<p>To get a sense of the mechanics of how <code class="docutils literal notranslate"><span class="pre">while</span></code> loops work, beginning programmers
often consider “toy” examples that showcase a number of “gotchas” when it comes
to programming loops.  Consider Listing <a class="reference internal" href="#while-ex1"><span class="std std-numref">3.2</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id3">
<span id="while-ex1"></span><div class="code-block-caption"><span class="caption-number">Listing 3.2 </span><span class="caption-text">“Toy” while loop example 1</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="linenos">2</span><span class="k">while</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">5</span><span class="p">:</span>
<span class="linenos">3</span>    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="linenos">4</span>    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="linenos">5</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Done.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Run it.  This prints the following.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>1
2
3
4
5
Done.
</pre></div>
</div>
<p>We don’t always need to have a non-indented statement following a loop.  We are
only doing this in the examples so it is clear in the output that we left the
loop body.</p>
<p>In each iteration, we print the value of <code class="docutils literal notranslate"><span class="pre">x</span></code> and then increase <code class="docutils literal notranslate"><span class="pre">x</span></code> by <code class="docutils literal notranslate"><span class="pre">1</span></code>.
Adding <code class="docutils literal notranslate"><span class="pre">1</span></code> to a value is such a common thing in programming that it has a
special name: <em>increment</em>.  That is, we are <em>incrementing</em> <code class="docutils literal notranslate"><span class="pre">x</span></code> by adding
<code class="docutils literal notranslate"><span class="pre">1</span></code> to it.  When <code class="docutils literal notranslate"><span class="pre">x</span></code> eventually becomes <code class="docutils literal notranslate"><span class="pre">5</span></code>, we print the <code class="docutils literal notranslate"><span class="pre">5</span></code> and
then add <code class="docutils literal notranslate"><span class="pre">1</span></code> more to make <code class="docutils literal notranslate"><span class="pre">x`</span></code> become <code class="docutils literal notranslate"><span class="pre">6</span></code>.  When we evaluate the
expression <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&lt;=</span> <span class="pre">5</span></code>, we get <code class="docutils literal notranslate"><span class="pre">6</span> <span class="pre">&lt;=</span> <span class="pre">5</span></code>, which is <code class="docutils literal notranslate"><span class="pre">False</span></code>, so our code
falls down to the non-indented section of code.</p>
<p>It is good to observe that, in this example, the last value we print is <code class="docutils literal notranslate"><span class="pre">5</span></code>, but
the value of <code class="docutils literal notranslate"><span class="pre">x</span></code> when we exit the loop is <code class="docutils literal notranslate"><span class="pre">6</span></code>.</p>
<p>Let’s look at another “toy” example.  We will modify
Listing <a class="reference internal" href="#while-ex1"><span class="std std-numref">3.2</span></a>, which was the following.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="linenos">2</span><span class="k">while</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">5</span><span class="p">:</span>
<span class="hll"><span class="linenos">3</span>    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</span><span class="hll"><span class="linenos">4</span>    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
</span><span class="linenos">5</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Done.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice that we’ve highlighted the statements that form the loop body.  Let’s
change the order of those loop body statements to see what, if any, effect it
has (Listing <a class="reference internal" href="#while-ex2"><span class="std std-numref">3.3</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="id4">
<span id="while-ex2"></span><div class="code-block-caption"><span class="caption-number">Listing 3.3 </span><span class="caption-text">“Toy” while loop example 2</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="linenos">2</span><span class="k">while</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">5</span><span class="p">:</span>
<span class="hll"><span class="linenos">3</span>    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
</span><span class="hll"><span class="linenos">4</span>    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</span><span class="linenos">5</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Done.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Run it.  Our output is different from the first example.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>2
3
4
5
6
Done.
</pre></div>
</div>
<p>Can you explain why this is?</p>
<p>In Listing <a class="reference internal" href="#while-ex2"><span class="std std-numref">3.3</span></a>, we are incrementing <code class="docutils literal notranslate"><span class="pre">x</span></code> before we print it.
Thus, the first value we print is not <code class="docutils literal notranslate"><span class="pre">1</span></code> but <code class="docutils literal notranslate"><span class="pre">2</span></code>.  The order of statements
matters in programming, and it definitely matters in loops!</p>
<p>Consider another example (Listing <a class="reference internal" href="#while-ex3"><span class="std std-numref">3.4</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="id5">
<span id="while-ex3"></span><div class="code-block-caption"><span class="caption-number">Listing 3.4 </span><span class="caption-text">“Toy” while loop example 3</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="linenos">2</span><span class="k">while</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">5</span><span class="p">:</span>
<span class="linenos">3</span>    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="linenos">4</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Done.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Here, we have removed the line that increments <code class="docutils literal notranslate"><span class="pre">x</span></code>.  You should be able to guess
what will happen when we run this program (hint: be ready to press <code class="docutils literal notranslate"><span class="pre">Ctrl+C</span></code>).</p>
<p>Since we have removed the line that increments <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">x</span></code> never changes, and so
the program just prints <code class="docutils literal notranslate"><span class="pre">1</span></code> over and over again.  Loops that are never-ending
are called <em>infinite loops</em>.  You will inadvertently create infinite loops every
now and then when you program.  It becomes very important to know how to debug
them.</p>
<p>Let’s try another example (Listing <a class="reference internal" href="#while-ex4"><span class="std std-numref">3.5</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="id6">
<span id="while-ex4"></span><div class="code-block-caption"><span class="caption-number">Listing 3.5 </span><span class="caption-text">“Toy” while loop example 4</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos">2</span><span class="k">while</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">4</span><span class="p">:</span>
<span class="linenos">3</span>    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="linenos">4</span>    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="linenos">5</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Done.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>All we’ve done is changed the initial value of <code class="docutils literal notranslate"><span class="pre">x</span></code> and the value of <code class="docutils literal notranslate"><span class="pre">x</span></code> that
causes us to not reenter the loop.  The output is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>0
1
2
3
4
Done.
</pre></div>
</div>
<p>Let’s make a small change to Listing <a class="reference internal" href="#while-ex4"><span class="std std-numref">3.5</span></a>. Suppose we change
line 2 so that the code appears as it does in Listing <a class="reference internal" href="#while-ex5"><span class="std std-numref">3.6</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id7">
<span id="while-ex5"></span><div class="code-block-caption"><span class="caption-number">Listing 3.6 </span><span class="caption-text">“Toy” while loop example 5</span><a class="headerlink" href="#id7" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="hll"><span class="linenos">2</span><span class="k">while</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">:</span>
</span><span class="linenos">3</span>    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="linenos">4</span>    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="linenos">5</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Done.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Now instead of <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, we have <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>.  This makes the code end the loop one value of
<code class="docutils literal notranslate"><span class="pre">x</span></code> earlier.  The output is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>0
1
2
3
Done.
</pre></div>
</div>
<p>Let’s change the condition in line 2 again so that it uses <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> instead of <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>.
The code now reads as in Listing <a class="reference internal" href="#while-ex6"><span class="std std-numref">3.7</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id8">
<span id="while-ex6"></span><div class="code-block-caption"><span class="caption-number">Listing 3.7 </span><span class="caption-text">“Toy” while loop example 6</span><a class="headerlink" href="#id8" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="hll"><span class="linenos">2</span><span class="k">while</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">:</span>
</span><span class="linenos">3</span>    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="linenos">4</span>    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="linenos">5</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Done.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>What is the output?  Why?</p>
<p>The output is (as you may or may not have expected):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Done.
</pre></div>
</div>
<p>The variable <code class="docutils literal notranslate"><span class="pre">x</span></code> is set to zero initially.  In the next line, the expression <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&gt;</span>
<span class="pre">4</span></code> becomes <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">&gt;</span> <span class="pre">4</span></code>, which is <code class="docutils literal notranslate"><span class="pre">False</span></code>.  Thus, the code bypasses the loop body
entirely.  There is no “rule” that says we have to do the loop body at least
once.  Computers are stupid.  They only do what you tell them to.  In this case,
because the condition is <code class="docutils literal notranslate"><span class="pre">False</span></code> initially, we never do the loop body and go
straight to the non-indented line of code past the loop body.</p>
<p>All of our “toy” examples thus far have involved incrementing a loop variable
<cite>x</cite>, that is, adding <cite>1</cite> to <cite>x</cite>.  However, we can change our variable however we
wish.  We could create the code in Listing <a class="reference internal" href="#while-ex7"><span class="std std-numref">3.8</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id9">
<span id="while-ex7"></span><div class="code-block-caption"><span class="caption-number">Listing 3.8 </span><span class="caption-text">“Toy” while loop example 7</span><a class="headerlink" href="#id9" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>
<span class="linenos">2</span><span class="k">while</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">8</span><span class="p">:</span>
<span class="linenos">3</span>    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="linenos">4</span>    <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">2</span>
<span class="linenos">5</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Who do we appreciate?&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>In this code, we add <code class="docutils literal notranslate"><span class="pre">2</span></code> to <code class="docutils literal notranslate"><span class="pre">x</span></code> each time.  The output of this code is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>2
4
6
8
Who do we appreciate?
</pre></div>
</div>
<p>We’ve used the heck out of the variable name <code class="docutils literal notranslate"><span class="pre">x</span></code>.  Let’s pick a different name
for a while just for the sake of using something different.  In
Listing <a class="reference internal" href="#blastoff"><span class="std std-numref">3.9</span></a>, we will use the name <code class="docutils literal notranslate"><span class="pre">count</span></code> for our loop variable
name.</p>
<div class="literal-block-wrapper docutils container" id="id10">
<span id="blastoff"></span><div class="code-block-caption"><span class="caption-number">Listing 3.9 </span><span class="caption-text">Blastoff example</span><a class="headerlink" href="#id10" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">count</span> <span class="o">=</span> <span class="mi">5</span>
<span class="linenos">2</span><span class="k">while</span> <span class="n">count</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">3</span>    <span class="nb">print</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>
<span class="linenos">4</span>    <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">-</span> <span class="mi">1</span>
<span class="linenos">5</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Blastoff!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>In this code, we subtract <code class="docutils literal notranslate"><span class="pre">1</span></code> from <code class="docutils literal notranslate"><span class="pre">count</span></code> each time.  This is called
<em>decrementing</em> <code class="docutils literal notranslate"><span class="pre">count</span></code>. The output of this code is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>5
4
3
2
1
Blastoff!
</pre></div>
</div>
<p>Toy examples are a great way to understand how loops work from a “mechanical”
perspective, but let’s see how we can use them to solve real problems.  Recall
our very first example in this section, Listing <a class="reference internal" href="#sales-tax"><span class="std std-numref">3.1</span></a>, which
dealt  with reporting the price of an item after sales tax.  Our next example is
also related to money.  Suppose we open a savings account, one that pays 5%
interest per year into the account as long as we don’t withdraw any money that
we deposit.  Let’s say we start the account by depositing $10,000.00.  How many
years will it take to double our investment?</p>
<p>Mathematicians would attempt to derive an equation to solve this problem, but
with computers we don’t have to.  We can make the computer figure it out for us.
We just need to know how to write the code to tell the computer what to do.</p>
<p>The question “How many years will it take to double our investment?” tells us a
lot about the code we would need to write.  We would need to keep track of our
balance as it grows by 5% each year.  We would need to keep track of the number
of years that have elapsed so far in our code.  We would also need to check to
see if the balance has doubled.  If, in describing what our program is supposed
to do, we say we need to check something, we are often talking about a Boolean
condition found in an <code class="docutils literal notranslate"><span class="pre">if</span></code> statement or a <code class="docutils literal notranslate"><span class="pre">while</span></code> loop.</p>
<p>Try to program this example on your own first.  You can’t learn to be a good
programmer if you don’t try things regularly by starting with a blank screen or
a blank sheet of paper.  If you get really stuck, then (and only then) glance at
the answer below.</p>
<p>Okay, let’s look at a solution found in Listing <a class="reference internal" href="#investment1"><span class="std std-numref">3.10</span></a>
(Warning: Our initial solution will have flaws, as initial solutions often do).</p>
<div class="literal-block-wrapper docutils container" id="id11">
<span id="investment1"></span><div class="code-block-caption"><span class="caption-number">Listing 3.10 </span><span class="caption-text">Doubling investment example</span><a class="headerlink" href="#id11" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">balance</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter starting balance: &quot;</span><span class="p">))</span>
<span class="linenos">2</span><span class="n">years</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos">3</span><span class="k">while</span> <span class="n">balance</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="o">*</span><span class="n">balance</span><span class="p">:</span>
<span class="linenos">4</span>    <span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span> <span class="o">*</span> <span class="mf">0.05</span> <span class="o">+</span> <span class="n">balance</span>
<span class="linenos">5</span>    <span class="n">years</span> <span class="o">=</span> <span class="n">years</span> <span class="o">+</span> <span class="mi">1</span>
<span class="linenos">6</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The balance after </span><span class="si">%d</span><span class="s2"> years is $</span><span class="si">%.2f</span><span class="s2">.&quot;</span> <span class="o">%</span>
<span class="linenos">7</span>            <span class="p">(</span><span class="n">years</span><span class="p">,</span> <span class="n">balance</span><span class="p">))</span>
<span class="linenos">8</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;It will take </span><span class="si">%d</span><span class="s2"> years to double your investment.&quot;</span> <span class="o">%</span> <span class="n">years</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>This is a good first attempt.  Here, we are letting the loop do the work of
adding to the balance year after year, each time checking to see if the balance
has doubled and if we can leave the loop.  However, our logic is flawed a bit.
Consider the loop condition <code class="docutils literal notranslate"><span class="pre">balance</span> <span class="pre">&lt;</span> <span class="pre">2*balance</span></code>.  A variable’s value will never
be greater than twice itself (unless that value is negative, but let’s steer
clear of negative values in bank accounts!).</p>
<p>The problem here is that we’re trying to use the variable <code class="docutils literal notranslate"><span class="pre">balance</span></code> for two very
different purposes simultaneously.  On one hand, we are using <code class="docutils literal notranslate"><span class="pre">balance</span></code> to keep
track of the current balance as it changes year after year.  On the other hand,
we’re pretending that it still holds the starting balance from our initial
investment.  We should really keep the starting balance in a separate variable,
which we will name <code class="docutils literal notranslate"><span class="pre">startbalance</span></code>.</p>
<p>With this in mind, we can modify the previous code as follows in
Listing <a class="reference internal" href="#investment-final"><span class="std std-numref">3.11</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id12">
<span id="investment-final"></span><div class="code-block-caption"><span class="caption-number">Listing 3.11 </span><span class="caption-text">Doubling investment example - final version</span><a class="headerlink" href="#id12" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos">1</span><span class="n">startbalance</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter starting balance: &quot;</span><span class="p">))</span>
</span><span class="hll"><span class="linenos">2</span><span class="n">balance</span> <span class="o">=</span> <span class="n">startbalance</span>
</span><span class="linenos">3</span><span class="n">years</span> <span class="o">=</span> <span class="mi">0</span>
<span class="hll"><span class="linenos">4</span><span class="k">while</span> <span class="n">balance</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="o">*</span><span class="n">startbalance</span><span class="p">:</span>
</span><span class="linenos">5</span>    <span class="n">balance</span> <span class="o">=</span> <span class="n">balance</span> <span class="o">*</span> <span class="mf">0.05</span> <span class="o">+</span> <span class="n">balance</span>
<span class="linenos">6</span>    <span class="n">years</span> <span class="o">=</span> <span class="n">years</span> <span class="o">+</span> <span class="mi">1</span>
<span class="linenos">7</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The balance after </span><span class="si">%d</span><span class="s2"> years is $</span><span class="si">%.2f</span><span class="s2">.&quot;</span> <span class="o">%</span>
<span class="linenos">8</span>            <span class="p">(</span><span class="n">years</span><span class="p">,</span> <span class="n">balance</span><span class="p">))</span>
<span class="linenos">9</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;It will take </span><span class="si">%d</span><span class="s2"> years to double your investment.&quot;</span> <span class="o">%</span> <span class="n">years</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="manipulating-and-printing-strings">
<span id="str-manip"></span><h2><span class="section-number">3.2. </span>Manipulating and printing strings<a class="headerlink" href="#manipulating-and-printing-strings" title="Permalink to this headline">¶</a></h2>
<p>Given our newly found exposure to loops, now is a good time to revisit strings.
It turns out, there is a fair amount of nifty stuff we can do with strings using
loops.  Suppose we create a new string variable named <code class="docutils literal notranslate"><span class="pre">s</span></code> in the following way.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;abc def&quot;</span>
</pre></div>
</div>
<p>Programmers sometimes talk about different important parts of a string.  They
call these parts <em>substrings</em>.  There are a lot of different possible substrings
of <code class="docutils literal notranslate"><span class="pre">&quot;abc</span> <span class="pre">def&quot;</span></code> including <code class="docutils literal notranslate"><span class="pre">&quot;a&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;ab&quot;</span></code>, and <code class="docutils literal notranslate"><span class="pre">&quot;def&quot;</span></code>, just to name a few.  The
string <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code> is also technically a substring of <code class="docutils literal notranslate"><span class="pre">s</span></code>.  Note that <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code> is different
from <code class="docutils literal notranslate"><span class="pre">&quot;</span> <span class="pre">&quot;</span></code>.  The former is called the <em>empty string</em>; it is a string without any
characters.  The latter is a string with a single space in it.</p>
<p>Note that the string <code class="docutils literal notranslate"><span class="pre">s</span></code> contains a space between the substrings <code class="docutils literal notranslate"><span class="pre">&quot;abc&quot;</span></code> and
<code class="docutils literal notranslate"><span class="pre">&quot;def&quot;</span></code>.  That will become an important observation later.  Now, we can inspect
individual characters by using square brackets and character’s position in the
string.  Consider the following example.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">7</span><span class="p">])</span>
</pre></div>
</div>
<p>If we run this code, we see the following output.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>a
b
c

d
e
f
Traceback (most recent call last):
  File &quot;/Users/shep/cs1/code/ch3strings.py&quot;, line 9, in &lt;module&gt;
    print(s[7])
IndexError: string index out of range
</pre></div>
</div>
<p>The syntax for retrieving a single character from a string <code class="docutils literal notranslate"><span class="pre">s</span></code> is <code class="docutils literal notranslate"><span class="pre">s[index]</span></code>
where <code class="docutils literal notranslate"><span class="pre">index</span></code> is an integer representing the position of the character we wish
to retrieve.  The first character (in this case <code class="docutils literal notranslate"><span class="pre">&quot;a&quot;</span></code>) is at position <code class="docutils literal notranslate"><span class="pre">0</span></code> rather
than position <code class="docutils literal notranslate"><span class="pre">1</span></code>.  That may take a little getting used to. We will use the
words “index” and “position” interchangeably to describe the location of a
character in a string (also, note that the plural of “index” is “indices”).
Let’s re-list the code again, this time with comments to explain each line
(see Listing <a class="reference internal" href="#str-index"><span class="std std-numref">3.12</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="id13">
<span id="str-index"></span><div class="code-block-caption"><span class="caption-number">Listing 3.12 </span><span class="caption-text">String indexing</span><a class="headerlink" href="#id13" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;abc def&quot;</span>
<span class="linenos">2</span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># print &quot;a&quot;</span>
<span class="linenos">3</span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="c1"># print &quot;b&quot;</span>
<span class="linenos">4</span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="c1"># print &quot;c&quot;</span>
<span class="linenos">5</span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="c1"># print &quot; &quot; (which ends up as just a blank line)</span>
<span class="linenos">6</span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span> <span class="c1"># print &quot;d&quot;</span>
<span class="linenos">7</span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span> <span class="c1"># print &quot;e&quot;</span>
<span class="linenos">8</span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span> <span class="c1"># print &quot;f&quot;</span>
<span class="linenos">9</span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">7</span><span class="p">])</span> <span class="c1"># Kablooey! There is no character at index 7.</span>
</pre></div>
</div>
</div>
<p>Between the square brackets, you can place one index or you can give a range of
indices, as we see in Listing <a class="reference internal" href="#str-slice"><span class="std std-numref">3.13</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id14">
<span id="str-slice"></span><div class="code-block-caption"><span class="caption-number">Listing 3.13 </span><span class="caption-text">String slicing</span><a class="headerlink" href="#id14" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;abc def&quot;</span>
<span class="linenos">2</span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span>
<span class="linenos">3</span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">])</span>
<span class="linenos">4</span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">6</span><span class="p">])</span>
<span class="linenos">5</span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">3</span><span class="p">:])</span>
<span class="linenos">6</span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[:</span><span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
</div>
<p>This code yields the following output.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ab
abc
 de
 def
abc
</pre></div>
</div>
<p>We can observe that the first print in line 2 of Listing <a class="reference internal" href="#str-slice"><span class="std std-numref">3.13</span></a>
does not print characters at indices <code class="docutils literal notranslate"><span class="pre">0</span></code> through <code class="docutils literal notranslate"><span class="pre">2</span></code>.  Rather, it prints
characters at positions <code class="docutils literal notranslate"><span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">1</span></code> but not <code class="docutils literal notranslate"><span class="pre">2</span></code>. We might conclude from this
that when we have two indices in square brackets following a string, the first
number is the first position <em>inclusive</em> and the second number is the last
position that will be selected up to, but not including, or <em>exclusive</em>. Note
that the indices are separated by a colon (<code class="docutils literal notranslate"><span class="pre">:</span></code>). In this situation, we will call
the colon the <em>slicing operator</em>.</p>
<p>Lines 4 and 5 in Listing <a class="reference internal" href="#str-slice"><span class="std std-numref">3.13</span></a> show us that the first and second
indices of the slicing operator are optional.  If one is omitted, Python assumes
that the we mean “go to the ends of the string.”  When we use square brackets to
select one or more characters from a string, we say that we are obtaining a
substring of the original string.  Obtaining a substring from some original
string in this manner is called <em>string slicing</em>.</p>
<p>What appears to be indentation in lines 3 and 4 of the output is actually the
single space found at index <code class="docutils literal notranslate"><span class="pre">3</span></code> in the string <code class="docutils literal notranslate"><span class="pre">s</span></code>.  It is difficult to tell if there
is a space at the end of line <code class="docutils literal notranslate"><span class="pre">5</span></code>.  One way to tell is to append an additional
character to the output to see the space.  For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The output is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>abc $
</pre></div>
</div>
<p>Can you see the space in the output above?</p>
<p>There are quite a few things we can do with strings.  Another interesting
feature of strings is that they have their own set of special functions.
Consider Listing <a class="reference internal" href="#cheese-shout"><span class="std std-numref">3.14</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id15">
<span id="cheese-shout"></span><div class="code-block-caption"><span class="caption-number">Listing 3.14 </span><span class="caption-text">“Shouting” example using dot-notation</span><a class="headerlink" href="#id15" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;I like cheese.&quot;</span>
<span class="linenos">2</span><span class="n">shout</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<span class="linenos">3</span><span class="nb">print</span><span class="p">(</span><span class="n">shout</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Most of the functions we have seen thus far (like <code class="docutils literal notranslate"><span class="pre">print</span></code>, <code class="docutils literal notranslate"><span class="pre">input</span></code>, etc.) do not
have a period/dot in front of them.  Calling a function which operates
specifically on a value or a variable uses <em>dot-notation</em>, like <code class="docutils literal notranslate"><span class="pre">t.upper()</span></code>.</p>
<p>On the Internet, typing something in all capital letters is a convention that
indicates shouting.  In effect, the upper() function can be used on a string
value (which is often contained in a variable) to return an all-uppercase
version of that string.  The output of Listing <a class="reference internal" href="#cheese-shout"><span class="std std-numref">3.14</span></a> is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>I LIKE CHEESE.
</pre></div>
</div>
<p>It is very important to note that <code class="docutils literal notranslate"><span class="pre">upper()</span></code> does not change the contents of the
string variable <code class="docutils literal notranslate"><span class="pre">t</span></code>.  If I do this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;I like cheese.&quot;</span>
<span class="n">shout</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">shout</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
<p>I get this as output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>I LIKE CHEESE.
I like cheese.
</pre></div>
</div>
<p>Notice that the contents of <code class="docutils literal notranslate"><span class="pre">t</span></code> are still <code class="docutils literal notranslate"><span class="pre">&quot;I</span> <span class="pre">like</span> <span class="pre">cheese.&quot;</span></code>.</p>
<p>Functions like <code class="docutils literal notranslate"><span class="pre">upper()</span></code> are not restricted to being called on variables.  They
may be called on any string value, like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">shout</span> <span class="o">=</span> <span class="s2">&quot;I like cheese.&quot;</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">shout</span><span class="p">)</span>
</pre></div>
</div>
<p>This works because Python transforms the first statement as shown in
Figure <a class="reference internal" href="#str-transform"><span class="std std-numref">3.2</span></a>.</p>
<figure class="align-default" id="id16">
<span id="str-transform"></span><a class="reference internal image-reference" href="_images/str_transform.png"><img alt="String transformation" src="_images/str_transform.png" style="width: 312.0px; height: 122.0px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 3.2 </span><span class="caption-text">String transformation</span><a class="headerlink" href="#id16" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>A common mistake is to omit the parentheses at the end of <code class="docutils literal notranslate"><span class="pre">upper()</span></code>.  Remember
that <code class="docutils literal notranslate"><span class="pre">upper</span></code> is just the name of the function; the parentheses are what calls
the function.  If we remove the parentheses, we get output that looks strange (Listing <a class="reference internal" href="#func-missing-parens"><span class="std std-numref">3.15</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="id17">
<span id="func-missing-parens"></span><div class="code-block-caption"><span class="caption-number">Listing 3.15 </span><span class="caption-text">Function call missing parentheses</span><a class="headerlink" href="#id17" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;I like cheese.&quot;</span>
<span class="hll"><span class="linenos">2</span><span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">upper</span><span class="p">)</span>
</span></pre></div>
</div>
</div>
<p>This produces something like:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;built-in method upper of str object at 0x1019807e8&gt;
</pre></div>
</div>
<p>This is Python’s way of saying “yes, <code class="docutils literal notranslate"><span class="pre">upper</span></code> is the name of a function.  If you
want to actually use that function, put parentheses at the end.”  Let’s add the
parentheses to the end of the function call
(Listing <a class="reference internal" href="#func-using-parens"><span class="std std-numref">3.16</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="id18">
<span id="func-using-parens"></span><div class="code-block-caption"><span class="caption-number">Listing 3.16 </span><span class="caption-text">A fix for Listing <a class="reference internal" href="#func-missing-parens"><span class="std std-numref">3.15</span></a></span><a class="headerlink" href="#id18" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;I like cheese.&quot;</span>
<span class="hll"><span class="linenos">2</span><span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
</span></pre></div>
</div>
</div>
<p>And now, it works.</p>
<p>Observe that when we “shout” by using <code class="docutils literal notranslate"><span class="pre">upper()</span></code>, the punctuation displayed is a
period.  Shouldn’t we change that to an exclamation point?  Consider the
following code in Listing <a class="reference internal" href="#str-replace"><span class="std std-numref">3.17</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id19">
<span id="str-replace"></span><div class="code-block-caption"><span class="caption-number">Listing 3.17 </span><span class="caption-text">Using <cite>replace</cite></span><a class="headerlink" href="#id19" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;I like cheese.&quot;</span>
<span class="linenos">2</span><span class="n">shout</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">)</span>
<span class="linenos">3</span><span class="nb">print</span><span class="p">(</span><span class="n">shout</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The function <code class="docutils literal notranslate"><span class="pre">replace</span></code> is another string function.  It takes two arguments.  The
first is a pattern to find in the string, and the second is a string we wish to
insert instead.</p>
<p>Consider how Python executes line 2 of Listing <a class="reference internal" href="#str-replace"><span class="std std-numref">3.17</span></a> (see Figure <a class="reference internal" href="#str-replace-transform"><span class="std std-numref">3.3</span></a>).</p>
<figure class="align-default" id="id20">
<span id="str-replace-transform"></span><a class="reference internal image-reference" href="_images/str_replace_transform.png"><img alt="String replace transformation" src="_images/str_replace_transform.png" style="width: 747.2px; height: 323.20000000000005px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 3.3 </span><span class="caption-text">String replace transformation</span><a class="headerlink" href="#id20" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>This example works because <code class="docutils literal notranslate"><span class="pre">t</span></code> is a string, so calling <code class="docutils literal notranslate"><span class="pre">t.upper()</span></code> returns
another string.  And, because <code class="docutils literal notranslate"><span class="pre">t.upper()</span></code> is a string, we can call <code class="docutils literal notranslate"><span class="pre">replace</span></code> on
it to return yet another string.  Calling a series of functions in one line is
called <em>function chaining</em>.</p>
<p>Note that the original string value of <code class="docutils literal notranslate"><span class="pre">t</span></code> still hasn’t changed.  <code class="docutils literal notranslate"><span class="pre">t</span></code> is still
<code class="docutils literal notranslate"><span class="pre">&quot;I</span> <span class="pre">like</span> <span class="pre">cheese.&quot;</span></code>.  If we wanted to actually change <code class="docutils literal notranslate"><span class="pre">t</span></code>, we would need to use
an assignment statement as in Listing <a class="reference internal" href="#replace-asgn"><span class="std std-numref">3.18</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id21">
<span id="replace-asgn"></span><div class="code-block-caption"><span class="caption-number">Listing 3.18 </span><span class="caption-text">Using assignment with <cite>replace</cite></span><a class="headerlink" href="#id21" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Now, <code class="docutils literal notranslate"><span class="pre">t</span></code> is changed to the newly returned string value.</p>
<p>We can even chain calls to <code class="docutils literal notranslate"><span class="pre">replace</span></code> (see Listing <a class="reference internal" href="#replace-chain"><span class="std std-numref">3.19</span></a>):</p>
<div class="literal-block-wrapper docutils container" id="id22">
<span id="replace-chain"></span><div class="code-block-caption"><span class="caption-number">Listing 3.19 </span><span class="caption-text">Function chaining with <cite>replace</cite></span><a class="headerlink" href="#id22" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;LIKE&quot;</span><span class="p">,</span><span class="s2">&quot;LOVE&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>As you might guess, and in the interest of completeness of our discussion, in
addition to <code class="docutils literal notranslate"><span class="pre">upper</span></code> there is a function named <code class="docutils literal notranslate"><span class="pre">lower</span></code> for returning all
lowercase versions of strings.</p>
<p>Now, let us explore the relationship between strings and loops.  Consider the
code in Listing <a class="reference internal" href="#print-chars"><span class="std std-numref">3.20</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id23">
<span id="print-chars"></span><div class="code-block-caption"><span class="caption-number">Listing 3.20 </span><span class="caption-text">Using a loop to print characters in a string</span><a class="headerlink" href="#id23" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;abc def&quot;</span>
<span class="linenos">2</span><span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos">3</span><span class="k">while</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="mi">7</span><span class="p">:</span>
<span class="linenos">4</span>    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
<span class="linenos">5</span>    <span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<p>Listing <a class="reference internal" href="#print-chars"><span class="std std-numref">3.20</span></a> produces the following output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>a
b
c

d
e
f
</pre></div>
</div>
<p>Why?</p>
<p>The variable <code class="docutils literal notranslate"><span class="pre">index</span></code> starts at <code class="docutils literal notranslate"><span class="pre">0</span></code>.  Each time in the loop body, we print the
value of the expression <code class="docutils literal notranslate"><span class="pre">s[index]</span></code>, which in the first loop iteration is <code class="docutils literal notranslate"><span class="pre">s[0]</span></code>,
which has the value <code class="docutils literal notranslate"><span class="pre">&quot;a&quot;</span></code>.  The code adds <code class="docutils literal notranslate"><span class="pre">1</span></code> to <code class="docutils literal notranslate"><span class="pre">index</span></code>, so now index is <code class="docutils literal notranslate"><span class="pre">1</span></code>
(it was <code class="docutils literal notranslate"><span class="pre">0</span></code> previously).  The code loops back around to the beginning of the
loop. We print the value of <code class="docutils literal notranslate"><span class="pre">s[index]</span></code> again, which this time is <code class="docutils literal notranslate"><span class="pre">s[1]</span></code>, and
<code class="docutils literal notranslate"><span class="pre">s[1]</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;b&quot;</span></code>.  We continue in this fashion with each iteration of the loop
having a new value of <code class="docutils literal notranslate"><span class="pre">index</span></code>.  Eventually, <code class="docutils literal notranslate"><span class="pre">index</span></code> becomes <code class="docutils literal notranslate"><span class="pre">7</span></code>, at which point
we exit the loop.</p>
<p>This is yet another “toy” example intended to get us to see the relationship
between loops and strings, which is a powerful relationship we will exploit very
shortly.</p>
<p>Let’s make one change to Listing <a class="reference internal" href="#print-chars"><span class="std std-numref">3.20</span></a>.  We will change only
the value of the string variable <code class="docutils literal notranslate"><span class="pre">s</span></code>.  Our new code is in
Listing <a class="reference internal" href="#print-chars-hardcodelen"><span class="std std-numref">3.21</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id24">
<span id="print-chars-hardcodelen"></span><div class="code-block-caption"><span class="caption-number">Listing 3.21 </span><span class="caption-text">Consequence of changing string contents</span><a class="headerlink" href="#id24" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="linenos">1</span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;protagonist&quot;</span>
</span><span class="linenos">2</span><span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos">3</span><span class="k">while</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="mi">7</span><span class="p">:</span>
<span class="linenos">4</span>    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
<span class="linenos">5</span>    <span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<p>The output is now:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>p
r
o
t
a
g
o
</pre></div>
</div>
<p>Oh no!  Where is the rest of the string?  Why did it stop after <code class="docutils literal notranslate"><span class="pre">7</span></code> characters?</p>
<p>Unfortunately, we have <em>hard-coded</em> the loop condition as <code class="docutils literal notranslate"><span class="pre">index</span> <span class="pre">&lt;</span> <span class="pre">7</span></code>.  We could
change the value of <code class="docutils literal notranslate"><span class="pre">s</span></code>, and we shouldn’t assume the length of <code class="docutils literal notranslate"><span class="pre">s</span></code> will always
be <code class="docutils literal notranslate"><span class="pre">7</span></code> characters.  From a logic standpoint, the <code class="docutils literal notranslate"><span class="pre">7</span></code> is supposed to refer to the
length of the string, which is also <code class="docutils literal notranslate"><span class="pre">1</span></code> more than the last index in the string.
Recall from the previous example that the last index of <code class="docutils literal notranslate"><span class="pre">s</span></code> was <code class="docutils literal notranslate"><span class="pre">6</span></code> and the
number of characters (the length of the string) was <code class="docutils literal notranslate"><span class="pre">7</span></code>.  In
Listing <a class="reference internal" href="#print-chars-hardcodelen"><span class="std std-numref">3.21</span></a>, the length of the string is <code class="docutils literal notranslate"><span class="pre">11</span></code>,
not <code class="docutils literal notranslate"><span class="pre">7</span></code>.</p>
<p>Any time we hard-code a value, like <code class="docutils literal notranslate"><span class="pre">7</span></code>, it makes our code brittle and less
resistant to change.  Let us replace this line:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="mi">7</span><span class="p">:</span>
</pre></div>
</div>
<p>with this line:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">len</span></code> function returns the number of characters in the string.  Our new code
is shown in Listing <a class="reference internal" href="#print-chars-good"><span class="std std-numref">3.22</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id25">
<span id="print-chars-good"></span><div class="code-block-caption"><span class="caption-number">Listing 3.22 </span><span class="caption-text">Length of string no longer hardcoded</span><a class="headerlink" href="#id25" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;protagonist&quot;</span>
<span class="linenos">2</span><span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
<span class="hll"><span class="linenos">3</span><span class="k">while</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
</span><span class="linenos">4</span>    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
<span class="linenos">5</span>    <span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<p>Alternatively, we could have done things a little differently.  See
Listing <a class="reference internal" href="#print-chars-alt"><span class="std std-numref">3.23</span></a> and note the highlighted lines.</p>
<div class="literal-block-wrapper docutils container" id="id26">
<span id="print-chars-alt"></span><div class="code-block-caption"><span class="caption-number">Listing 3.23 </span><span class="caption-text">Printing characters until reaching the last index</span><a class="headerlink" href="#id26" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;protagonist&quot;</span>
<span class="linenos">2</span><span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
<span class="hll"><span class="linenos">3</span><span class="n">lastindex</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
</span><span class="hll"><span class="linenos">4</span><span class="k">while</span> <span class="n">index</span> <span class="o">&lt;=</span> <span class="n">lastindex</span><span class="p">:</span>
</span><span class="linenos">5</span>    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
<span class="linenos">6</span>    <span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<p>We have created a new variable named <code class="docutils literal notranslate"><span class="pre">lastindex</span></code>.  In the case of the string
<code class="docutils literal notranslate"><span class="pre">&quot;protagonist&quot;</span></code>, the value of <code class="docutils literal notranslate"><span class="pre">lastindex</span></code> will be <code class="docutils literal notranslate"><span class="pre">10</span></code> since <code class="docutils literal notranslate"><span class="pre">len(s)</span></code> is <code class="docutils literal notranslate"><span class="pre">11</span></code>.
It is very important to see the relationship between the last index and the
length of the string. Because indices start at <code class="docutils literal notranslate"><span class="pre">0</span></code>, not <code class="docutils literal notranslate"><span class="pre">1</span></code>, the last index is
always the length minus <code class="docutils literal notranslate"><span class="pre">1</span></code> (in this case, the value of the expression
<code class="docutils literal notranslate"><span class="pre">len(s)-1</span></code>).</p>
<p>Let’s see how well this is all sinking in.  Can you write code to print the
characters of a string, one on each line, but in reverse order this time?  In
other words, if my string is <code class="docutils literal notranslate"><span class="pre">&quot;abc&quot;</span></code>, can you write code that prints:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>c
b
a
</pre></div>
</div>
<p>Give it a try.</p>
<p>Let’s check your work.  With some experimentation, you might have been able to
get close to a solution that looks like the code in
Listing <a class="reference internal" href="#reverse-print-str"><span class="std std-numref">3.24</span></a>.  (If not, keep trying and practicing.)</p>
<div class="literal-block-wrapper docutils container" id="id27">
<span id="reverse-print-str"></span><div class="code-block-caption"><span class="caption-number">Listing 3.24 </span><span class="caption-text">Printing a string’s characters in reverse order</span><a class="headerlink" href="#id27" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;abc&quot;</span>
<span class="linenos">2</span><span class="n">index</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
<span class="linenos">3</span><span class="k">while</span> <span class="n">index</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">4</span>    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
<span class="linenos">5</span>    <span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="o">-</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<p>Note that we are setting the initial index variable to the last index of string
(again, length minus <code class="docutils literal notranslate"><span class="pre">1</span></code>), and in our loop body we are subtracting <code class="docutils literal notranslate"><span class="pre">1</span></code> rather
than adding <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<p>In Python, as it is in other programming languages, there is often more than one
way to write a program.  Another approach to printing a string in reverse could
take advantage of the fact that you can put <em>negative</em> indices in square
brackets to obtain characters in a string starting from the end rather than from
the beginning.  For example, suppose we have the following code.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">foo</span> <span class="o">=</span> <span class="s2">&quot;abc&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">foo</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">foo</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">foo</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
<p>This prints:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>c
b
a
</pre></div>
</div>
<p>With this in mind, we could write new code that produces the same output as Listing <a class="reference internal" href="#reverse-print-str"><span class="std std-numref">3.24</span></a>, but in a different way.  Consider Listing <a class="reference internal" href="#reverse-print-str-alt"><span class="std std-numref">3.25</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id28">
<span id="reverse-print-str-alt"></span><div class="code-block-caption"><span class="caption-number">Listing 3.25 </span><span class="caption-text">Another way to print a string’s characters in reverse order</span><a class="headerlink" href="#id28" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">foo</span> <span class="o">=</span> <span class="s2">&quot;abc&quot;</span>
<span class="linenos">2</span><span class="n">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="linenos">3</span><span class="k">while</span> <span class="n">index</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">foo</span><span class="p">):</span>
<span class="linenos">4</span>    <span class="nb">print</span><span class="p">(</span><span class="n">foo</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
<span class="linenos">5</span>    <span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="o">-</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<p>Note the loop condition.  If <code class="docutils literal notranslate"><span class="pre">len(foo)</span></code> in this case is <code class="docutils literal notranslate"><span class="pre">3</span></code>, then <code class="docutils literal notranslate"><span class="pre">-len(foo)</span></code> is
<cite>-3</cite>.</p>
<p>(Why did we name our variable <code class="docutils literal notranslate"><span class="pre">foo</span></code>?  That’s weird, right?  You’re correct; it
is weird!  There’s a historical reason why computer science books often name
variables <code class="docutils literal notranslate"><span class="pre">foo</span></code> and <code class="docutils literal notranslate"><span class="pre">bar</span></code>.  Search the Web for <code class="docutils literal notranslate"><span class="pre">foobar</span></code> and its original form
<code class="docutils literal notranslate"><span class="pre">FUBAR</span></code> so that you can learn where this nomenclature comes from.)</p>
</section>
<section id="for-loops">
<span id="sec-for"></span><h2><span class="section-number">3.3. </span><cite>for</cite> loops<a class="headerlink" href="#for-loops" title="Permalink to this headline">¶</a></h2>
<p>Loops of the form found in Listing <a class="reference internal" href="#while-setup-for"><span class="std std-numref">3.26</span></a> are very common.
Suppose <code class="docutils literal notranslate"><span class="pre">n</span></code> is an integer variable defined earlier in a program.</p>
<div class="literal-block-wrapper docutils container" id="id29">
<span id="while-setup-for"></span><div class="code-block-caption"><span class="caption-number">Listing 3.26 </span><span class="caption-text">Simple <cite>while</cite> loop</span><a class="headerlink" href="#id29" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">k</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
    <span class="n">k</span> <span class="o">=</span> <span class="n">k</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<p>Loops of this form are so common, in fact, that there is a shorter version of
the loop known as a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop.  Listing <a class="reference internal" href="#while-setup-for"><span class="std std-numref">3.26</span></a> could be
re-written as a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop as shown in Listing <a class="reference internal" href="#for-ex1"><span class="std std-numref">3.27</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id30">
<span id="for-ex1"></span><div class="code-block-caption"><span class="caption-number">Listing 3.27 </span><span class="caption-text">Simple <cite>for</cite> loop</span><a class="headerlink" href="#id30" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Gone is the explicit declaration of the variable <code class="docutils literal notranslate"><span class="pre">k</span></code>.  Gone also is the
increment statement <code class="docutils literal notranslate"><span class="pre">k</span> <span class="pre">=</span> <span class="pre">k</span> <span class="pre">+</span> <span class="pre">1</span></code>.  The range expression gives <code class="docutils literal notranslate"><span class="pre">k</span></code> an initial
value of <code class="docutils literal notranslate"><span class="pre">0</span></code> in this example, and then it allows the loop to continue until <code class="docutils literal notranslate"><span class="pre">k</span> <span class="pre">==</span>
<span class="pre">n</span></code>, at which point the computer leaves the loop.</p>
<p>Recall Listing <a class="reference internal" href="#print-chars-good"><span class="std std-numref">3.22</span></a> in Section <a class="reference internal" href="#str-manip"><span class="std std-numref">3.2</span></a>,
which is shown below.  To print the characters of a string, each on a separate line,
using a <code class="docutils literal notranslate"><span class="pre">while</span></code> loop, we could write:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;protagonist&quot;</span>
<span class="linenos">2</span><span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
<span class="linenos">3</span><span class="k">while</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
<span class="linenos">4</span>    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
<span class="linenos">5</span>    <span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</div>
<p>We can now re-write this code using the shorter, more succinct <cite>for</cite> loop (see Listing <a class="reference internal" href="#for-print-chars"><span class="std std-numref">3.28</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="id31">
<span id="for-print-chars"></span><div class="code-block-caption"><span class="caption-number">Listing 3.28 </span><span class="caption-text">Printing characters with a <cite>for</cite> loop</span><a class="headerlink" href="#id31" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;protagonist&quot;</span>
<span class="linenos">2</span><span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)):</span>
<span class="linenos">3</span>    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
</pre></div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">for</span></code> loops can also countdown or count in multiples just as easy as <code class="docutils literal notranslate"><span class="pre">while</span></code>
loops can.  Suppose we want to print a string in reverse order like we did in
Listing <a class="reference internal" href="#reverse-print-str"><span class="std std-numref">3.24</span></a>.  As a reminder, the code looked like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;abc&quot;</span>
<span class="linenos">2</span><span class="n">index</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
<span class="linenos">3</span><span class="k">while</span> <span class="n">index</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">4</span>    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
<span class="linenos">5</span>    <span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="o">-</span> <span class="mi">1</span>
</pre></div>
</div>
<p>Instead, we can add a third argument to <code class="docutils literal notranslate"><span class="pre">range</span></code> which specifies what we add to
the loop variable to change it prior to each iteration of the loop.  Thus, we
can do this (Listing <a class="reference internal" href="#for-reverse-print-str"><span class="std std-numref">3.29</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="id32">
<span id="for-reverse-print-str"></span><div class="code-block-caption"><span class="caption-number">Listing 3.29 </span><span class="caption-text">Printing the characters in a string in reverse</span><a class="headerlink" href="#id32" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;cba&quot;</span>
<span class="linenos">2</span><span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
<span class="linenos">3</span>    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
</pre></div>
</div>
</div>
<p>That’s a lot to mentally unpack.  Let’s take it a piece at a time.  Let’s take
the first emphasized expression in the <cite>range</cite> function below.</p>
<blockquote>
<div><p>for index in range(<strong>len(s)-1</strong>, -1, -1):</p>
</div></blockquote>
<p>This sets the last index in the string <code class="docutils literal notranslate"><span class="pre">len(s)-1</span></code> as the initial value of the
variable <code class="docutils literal notranslate"><span class="pre">index</span></code>.  The next expression/value we wish to emphasize in <code class="docutils literal notranslate"><span class="pre">range</span></code> is:</p>
<blockquote>
<div><p>for index in range(len(s)-1, <strong>-1</strong>, -1):</p>
</div></blockquote>
<p>This says that when <code class="docutils literal notranslate"><span class="pre">index</span></code> goes past <code class="docutils literal notranslate"><span class="pre">0</span></code> and reaches <code class="docutils literal notranslate"><span class="pre">-1</span></code>, we should exit the
loop.  Finally, we have:</p>
<blockquote>
<div><p>for index in range(len(s)-1, -1, <strong>-1</strong>):</p>
</div></blockquote>
<p>This <code class="docutils literal notranslate"><span class="pre">-1</span></code> specifies how <code class="docutils literal notranslate"><span class="pre">index</span></code> should be changed prior to each iteration.  This
means that <code class="docutils literal notranslate"><span class="pre">index</span></code> will have <code class="docutils literal notranslate"><span class="pre">1</span></code> subtracted from its value.</p>
<p>Let’s see how we are doing here.  Suppose I have the code in
Listing <a class="reference internal" href="#print-odds"><span class="std std-numref">3.30</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id33">
<span id="print-odds"></span><div class="code-block-caption"><span class="caption-number">Listing 3.30 </span><span class="caption-text">Printing odd numbers</span><a class="headerlink" href="#id33" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
<span class="linenos">2</span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>What is the output of this code?</p>
<p>We would expect to see the following on-screen.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>1
3
5
7
</pre></div>
</div>
<p>Can you explain why?</p>
<p>The variable <code class="docutils literal notranslate"><span class="pre">i</span></code> gets the value <code class="docutils literal notranslate"><span class="pre">1</span></code> to start the loop.  In each iteration, the
value of <code class="docutils literal notranslate"><span class="pre">i</span></code> is printed.  Just before each iteration, we add <code class="docutils literal notranslate"><span class="pre">2</span></code> to <code class="docutils literal notranslate"><span class="pre">i</span></code>.
Therefore, <code class="docutils literal notranslate"><span class="pre">i</span></code> will have the values <code class="docutils literal notranslate"><span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">3</span></code>, <code class="docutils literal notranslate"><span class="pre">5</span></code>, and <code class="docutils literal notranslate"><span class="pre">7</span></code> within the loop body.
When <code class="docutils literal notranslate"><span class="pre">i</span></code> reaches <code class="docutils literal notranslate"><span class="pre">9</span></code>, the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop will end.</p>
<p>Let us try to use our knowledge of <code class="docutils literal notranslate"><span class="pre">for</span></code> loops to write a program that reverses
a string.  In other words, given user input, reverse the input and print it to
the user.  If the user enters <code class="docutils literal notranslate"><span class="pre">&quot;abc</span> <span class="pre">def&quot;</span></code>, then the program should output <code class="docutils literal notranslate"><span class="pre">&quot;fed</span>
<span class="pre">cba&quot;</span></code>.</p>
<p>Here is our attempt (Listing <a class="reference internal" href="#for-rev-str"><span class="std std-numref">3.31</span></a> ).</p>
<div class="literal-block-wrapper docutils container" id="id34">
<span id="for-rev-str"></span><div class="code-block-caption"><span class="caption-number">Listing 3.31 </span><span class="caption-text">Reversing a string using a <cite>for</cite> loop</span><a class="headerlink" href="#id34" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">s</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter a string: &quot;</span><span class="p">)</span>
<span class="linenos">2</span><span class="n">rev</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="linenos">3</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
<span class="linenos">4</span>    <span class="n">rev</span> <span class="o">=</span> <span class="n">rev</span> <span class="o">+</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="linenos">5</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The reverse of the string is: </span><span class="si">%s</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="n">rev</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">s</span></code> is the input string variable and <code class="docutils literal notranslate"><span class="pre">rev</span></code> will be the string variable that
holds <code class="docutils literal notranslate"><span class="pre">s</span></code>’s reverse.  We take each character from <code class="docutils literal notranslate"><span class="pre">s</span></code> using a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop and we
concatenate it onto the end of <code class="docutils literal notranslate"><span class="pre">rev</span></code>.</p>
<p>Consider how <code class="docutils literal notranslate"><span class="pre">rev</span></code> changes with each iteration of the loop, as shown in
Table <a class="reference internal" href="#for-rev-str-trace"><span class="std std-numref">3.1</span></a>.</p>
<span id="for-rev-str-trace"></span><table class="colwidths-given docutils align-default" id="id35">
<caption><span class="caption-number">Table 3.1 </span><span class="caption-text">Trace table for Listing <a class="reference internal" href="#for-rev-str"><span class="std std-numref">3.31</span></a></span><a class="headerlink" href="#id35" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><code class="docutils literal notranslate"><span class="pre">rev</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">i</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">s[i]</span></code></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;f&quot;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">6</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;f&quot;</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;fe&quot;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">5</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;e&quot;</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;fed&quot;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">4</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;d&quot;</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;fed</span> <span class="pre">&quot;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">3</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;</span> <span class="pre">&quot;</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;fed</span> <span class="pre">c&quot;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;fed</span> <span class="pre">cb&quot;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;b&quot;</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&quot;fed</span> <span class="pre">cba&quot;</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;a&quot;</span></code></p></td>
</tr>
</tbody>
</table>
<p>Table <a class="reference internal" href="#for-rev-str-trace"><span class="std std-numref">3.1</span></a> is known a <em>trace table</em>.  It serves as a tool
for programmers to make sense of how values change from iteration to iteration
of a loop.</p>
</section>
<section id="for-loops-with-strings-revisited">
<span id="sec-for-str"></span><h2><span class="section-number">3.4. </span><cite>for</cite> loops with strings, revisited<a class="headerlink" href="#for-loops-with-strings-revisited" title="Permalink to this headline">¶</a></h2>
<p>We’ve barely scratched the surface of what <code class="docutils literal notranslate"><span class="pre">for</span></code> loops can do for us.  <code class="docutils literal notranslate"><span class="pre">for</span></code>
loops in Python have a nifty additional form that allows us to write even
simpler, more readable code.  We’ll explore this alternate form now.  Let’s set it up in the context of an example.  Suppose we wish to iterate through the characters of a string <code class="docutils literal notranslate"><span class="pre">s</span></code> with the intent of reversing it.  We might write the code found in Listing <a class="reference internal" href="#for-rev-str2"><span class="std std-numref">3.32</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id36">
<span id="for-rev-str2"></span><div class="code-block-caption"><span class="caption-number">Listing 3.32 </span><span class="caption-text">Reversing a string, starting from the front instead of the back</span><a class="headerlink" href="#id36" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">s</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter a string: &quot;</span><span class="p">)</span>
<span class="linenos">2</span><span class="n">rev</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="linenos">3</span><span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)):</span>
<span class="linenos">4</span>    <span class="n">rev</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">+</span> <span class="n">rev</span>
<span class="linenos">5</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The reverse of the string is: </span><span class="si">%s</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="n">rev</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Notice how we’ve changed the logic from what we did in
Listing <a class="reference internal" href="#for-rev-str"><span class="std std-numref">3.31</span></a>, our previous attempt.  In the previous code, we
traversed the string starting at its last character and working towards its
first character, and for each character, we appended it to the end of the
reversed string <code class="docutils literal notranslate"><span class="pre">rev</span></code>.  In this code (Listing <a class="reference internal" href="#for-rev-str2"><span class="std std-numref">3.32</span></a>), we are
doing the opposite.  We are traversing the string from first character (the
“front” of the string) to last character (the “back” of the string) and
prepending the character to the front of the reversed string <code class="docutils literal notranslate"><span class="pre">rev</span></code>.  Both
methods solve the same problem and produce the same output.</p>
<p>As it turns out, we don’t even need to concern ourselves with having an <code class="docutils literal notranslate"><span class="pre">index</span></code>
variable.  Python has a version of the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop syntax that operates
exclusively on strings.  Consider the following highlighted adjustments to
Listing <a class="reference internal" href="#for-rev-str2"><span class="std std-numref">3.32</span></a> shown in Listing <a class="reference internal" href="#for-in-rev-str"><span class="std std-numref">3.33</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id37">
<span id="for-in-rev-str"></span><div class="code-block-caption"><span class="caption-number">Listing 3.33 </span><span class="caption-text">Reversing a string, starting from the front instead of the back using characters instead of indices</span><a class="headerlink" href="#id37" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">s</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter a string: &quot;</span><span class="p">)</span>
<span class="linenos">2</span><span class="n">rev</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="hll"><span class="linenos">3</span><span class="k">for</span> <span class="n">ch</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">4</span>    <span class="n">rev</span> <span class="o">=</span> <span class="n">ch</span> <span class="o">+</span> <span class="n">rev</span>
</span><span class="linenos">5</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The reverse of the string is: </span><span class="si">%s</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="n">rev</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>In this form of the Python <code class="docutils literal notranslate"><span class="pre">for</span></code> loop, the loop variable <code class="docutils literal notranslate"><span class="pre">ch</span></code> is assigned a
different character from the string <code class="docutils literal notranslate"><span class="pre">s</span></code> each time the loop condition is checked.
Notice that there is no more <code class="docutils literal notranslate"><span class="pre">index</span></code> variable or <code class="docutils literal notranslate"><span class="pre">range</span></code> function.</p>
</section>
<section id="loops-for-input-validation-and-translation">
<span id="sec-loop-valid-and-translate"></span><h2><span class="section-number">3.5. </span>Loops for input validation and translation<a class="headerlink" href="#loops-for-input-validation-and-translation" title="Permalink to this headline">¶</a></h2>
<p>We have been asking users for input in many of our previous examples.  We have
always assumed users will type the correct information, but what happens when
they do not.  Suppose we ask users to enter their age.  We have been doing this
as follows.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">age</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter your age: &quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>What if users’ fingers slip and they enter <code class="docutils literal notranslate"><span class="pre">&quot;1r&quot;</span></code> instead of <code class="docutils literal notranslate"><span class="pre">&quot;14&quot;</span></code>?  The <code class="docutils literal notranslate"><span class="pre">int</span></code>
function will crash because <code class="docutils literal notranslate"><span class="pre">&quot;1r&quot;</span></code> cannot be cast to an integer.  This happens
because we have prematurely tried to cast the string to an integer without
checking the input first.  We need to wait to perform the <code class="docutils literal notranslate"><span class="pre">int</span></code> cast until we
know it is safe to do so.  Another way to say this is we need to postpone the
type conversion until we have <em>validated</em> the input.  The code in
Listing <a class="reference internal" href="#isdigit"><span class="std std-numref">3.34</span></a> demonstrates how we might do input validation before
casting a string to an integer.</p>
<div class="literal-block-wrapper docutils container" id="id38">
<span id="isdigit"></span><div class="code-block-caption"><span class="caption-number">Listing 3.34 </span><span class="caption-text">Input validation using a <cite>while</cite> loop</span><a class="headerlink" href="#id38" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">age_str</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter your age: &quot;</span><span class="p">)</span>
<span class="linenos">2</span><span class="k">while</span> <span class="ow">not</span> <span class="n">age_str</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
<span class="linenos">3</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;That is not a valid age.&quot;</span><span class="p">)</span>
<span class="linenos">4</span>    <span class="n">age_str</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter your age: &quot;</span><span class="p">)</span>
<span class="linenos">5</span><span class="n">age</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">age_str</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">isdigit</span></code> (line 2 of Listing <a class="reference internal" href="#isdigit"><span class="std std-numref">3.34</span></a>) is a function that we can
always use on a string value.  The “dot” (<code class="docutils literal notranslate"><span class="pre">.</span></code>) separates the word <code class="docutils literal notranslate"><span class="pre">isdigit</span></code> from
the string it refers to, in this case the value stored in the variable
<code class="docutils literal notranslate"><span class="pre">age_str</span></code>.  <code class="docutils literal notranslate"><span class="pre">age_str.isdigit()</span></code> returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if every one of the characters in
<code class="docutils literal notranslate"><span class="pre">age_str</span></code> are numbers, otherwise it returns <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>(Note: What do you suppose would be the value of the expression <code class="docutils literal notranslate"><span class="pre">&quot;&quot;.isdigit()</span></code>?
In other words, is the result of <code class="docutils literal notranslate"><span class="pre">isdigit</span></code> going to be <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>
when the string contains no characters at all.  You may wish to try typing
this statement into the Python Shell for yourself to see what happens.)</p>
<p>Let us examine another example that uses loops to operate on strings.  Suppose we ask users for their full names using an <code class="docutils literal notranslate"><span class="pre">input</span></code> statement.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fullname</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter your full name: &quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The variable <code class="docutils literal notranslate"><span class="pre">fullname</span></code> could contain <code class="docutils literal notranslate"><span class="pre">&quot;Javier</span> <span class="pre">Sanchez&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;Mary</span> <span class="pre">Johnson&quot;</span></code>, or
just about anything, though in most cases, there will be a first name and a last
name separated by a space.  Let us try to extract the first name from the value
in <code class="docutils literal notranslate"><span class="pre">fullname</span></code>.  To do this, we’ll need to use the slicing operator (<code class="docutils literal notranslate"><span class="pre">:</span></code>).
Depending on the length of the first name, the range of the string slice will be
a little different.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Suppose fullname == &quot;Javier Sanchez&quot;</span>
<span class="c1">#                      01234567...</span>
<span class="n">firstname</span> <span class="o">=</span> <span class="n">fullname</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">6</span><span class="p">]</span>

<span class="c1"># Or, suppose fullname == &quot;Mary Johnson&quot;</span>
<span class="c1">#                          01234567...</span>
<span class="n">firstname</span> <span class="o">=</span> <span class="n">fullname</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
<p>Since we can’t possibly know the length of the first name ahead of time, we will
need to find the index of the space in order to slice the appropriate substring.
If we are able to put the index of the space into a variable named <code class="docutils literal notranslate"><span class="pre">space</span></code>, then
we can extract the first name as follows.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">firstname</span> <span class="o">=</span> <span class="n">fullname</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">space</span><span class="p">]</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">fullname</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;Javier</span> <span class="pre">Sanchez&quot;</span></code> then <code class="docutils literal notranslate"><span class="pre">space</span></code> would be <code class="docutils literal notranslate"><span class="pre">6</span></code>, if <code class="docutils literal notranslate"><span class="pre">fullname</span></code> is
<code class="docutils literal notranslate"><span class="pre">&quot;Mary</span> <span class="pre">Johnson&quot;</span></code> then <code class="docutils literal notranslate"><span class="pre">space</span></code> would be <code class="docutils literal notranslate"><span class="pre">4</span></code>, and so on.  Finding the index of the
space requires us to search the string character by character, which is
something we have already done, both with <code class="docutils literal notranslate"><span class="pre">while</span></code> loops and with <code class="docutils literal notranslate"><span class="pre">for</span></code> loops.</p>
<p>Here is our strategy.  We will use a loop to examine each character in
<code class="docutils literal notranslate"><span class="pre">fullname</span></code>, one at a time.  If we encounter the space, we will set the value of
<code class="docutils literal notranslate"><span class="pre">space</span></code> to the current index of the loop, and then we will jump out of the loop
using the command <code class="docutils literal notranslate"><span class="pre">break</span></code>.  After all, once we’ve found the space, our work is
done; there is no need to keep looping.</p>
<p>Thus, our code appears in Listing <a class="reference internal" href="#find-space"><span class="std std-numref">3.35</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id39">
<span id="find-space"></span><div class="code-block-caption"><span class="caption-number">Listing 3.35 </span><span class="caption-text">Finding the index of a space in a string</span><a class="headerlink" href="#id39" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">fullname</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter your full name: &quot;</span><span class="p">)</span>
<span class="linenos">2</span><span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">fullname</span><span class="p">)):</span>
<span class="linenos">3</span>    <span class="k">if</span> <span class="n">fullname</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39; &#39;</span><span class="p">:</span>
<span class="linenos">4</span>        <span class="n">space</span> <span class="o">=</span> <span class="n">index</span>
<span class="linenos">5</span>        <span class="k">break</span>
<span class="linenos">6</span>
<span class="linenos">7</span><span class="n">firstname</span> <span class="o">=</span> <span class="n">fullname</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">space</span><span class="p">]</span>
<span class="linenos">8</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Your first name is </span><span class="si">%s</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="n">firstname</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Try out this code on several full names that you can think of.  Try to find
<em>edge cases</em> that may not work.  <em>Edge cases</em> are exceptional cases of program
input that could cause your code to fail.  One such edge case in this problem is
full names that do not have spaces, i.e., the names of individuals who only have
one name.  Consider celebrities’ names such as Prince, Cher, Sting, Madonna,
etc.  Those names are their full names and first names simultaneously.  Try
typing “Prince” in as the input to your program.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Enter your full name: Prince
Traceback (most recent call last):
  File &quot;/Users/shep/cs1/code/ch3fullname.py&quot;, line 6, in &lt;module&gt;
    firstname = fullname[0:space]
NameError: name &#39;space&#39; is not defined
</pre></div>
</div>
<p>Can you explain this error to yourself?  Why is <code class="docutils literal notranslate"><span class="pre">space</span></code> not defined in line <code class="docutils literal notranslate"><span class="pre">6</span></code>?
Where in the code do we create the <code class="docutils literal notranslate"><span class="pre">space</span></code> variable normally?</p>
<p>In this case, <code class="docutils literal notranslate"><span class="pre">space</span></code> is first created inside the loop (see line 4).
This is generally bad
programming practice.  If the variable is used by code outside of a loop, the
variable should also be defined outside the loop.  So, let’s define <code class="docutils literal notranslate"><span class="pre">space</span></code>
before we reach the loop, but what should be its initial value?  Let’s choose a
value that doesn’t look like a normal index.  Normal indices would be <code class="docutils literal notranslate"><span class="pre">0</span></code>, <code class="docutils literal notranslate"><span class="pre">1</span></code>,
<code class="docutils literal notranslate"><span class="pre">2</span></code>, <code class="docutils literal notranslate"><span class="pre">3</span></code>, etc., so let’s choose <code class="docutils literal notranslate"><span class="pre">-1</span></code> as the initial value of <code class="docutils literal notranslate"><span class="pre">space</span></code>.
Our code can now be written as in Listing <a class="reference internal" href="#find-space2"><span class="std std-numref">3.36</span></a>.  Notice
line 3.</p>
<div class="literal-block-wrapper docutils container" id="id40">
<span id="find-space2"></span><div class="code-block-caption"><span class="caption-number">Listing 3.36 </span><span class="caption-text">Finding the index of a space in a string, attempt 2</span><a class="headerlink" href="#id40" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">fullname</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter your full name: &quot;</span><span class="p">)</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="n">space</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="linenos"> 4</span><span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">fullname</span><span class="p">)):</span>
<span class="linenos"> 5</span>    <span class="k">if</span> <span class="n">fullname</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39; &#39;</span><span class="p">:</span>
<span class="linenos"> 6</span>        <span class="n">space</span> <span class="o">=</span> <span class="n">index</span>
<span class="linenos"> 7</span>        <span class="k">break</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="k">if</span> <span class="n">space</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
<span class="linenos">10</span>    <span class="n">firstname</span> <span class="o">=</span> <span class="n">fullname</span>
<span class="linenos">11</span><span class="k">else</span><span class="p">:</span>
<span class="linenos">12</span>    <span class="n">firstname</span> <span class="o">=</span> <span class="n">fullname</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">space</span><span class="p">]</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Your first name is </span><span class="si">%s</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="n">firstname</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Finding a character or a pattern in a string is such a common operation, Python
gives us a way to do it without writing a loop every time.  We can simplify the
code above using the <code class="docutils literal notranslate"><span class="pre">find</span></code> function as follows in Listing <a class="reference internal" href="#find-space3"><span class="std std-numref">3.37</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id41">
<span id="find-space3"></span><div class="code-block-caption"><span class="caption-number">Listing 3.37 </span><span class="caption-text">Finding the index of a space in a string, attempt 3</span><a class="headerlink" href="#id41" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">fullname</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter your full name: &quot;</span><span class="p">)</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="n">space</span> <span class="o">=</span> <span class="n">fullname</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="k">if</span> <span class="n">space</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
<span class="linenos"> 6</span>    <span class="n">firstname</span> <span class="o">=</span> <span class="n">fullname</span>
<span class="linenos"> 7</span><span class="k">else</span><span class="p">:</span>
<span class="linenos"> 8</span>    <span class="n">firstname</span> <span class="o">=</span> <span class="n">fullname</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">space</span><span class="p">]</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Your first name is </span><span class="si">%s</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="n">firstname</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">find</span></code> (line 3 of Listing <a class="reference internal" href="#find-space3"><span class="std std-numref">3.37</span></a>) is a function that we can
always use on a string value.  The “dot” (<code class="docutils literal notranslate"><span class="pre">.</span></code>) separates the word <code class="docutils literal notranslate"><span class="pre">find</span></code> from
the string it refers to, in this case the value stored in the variable
<code class="docutils literal notranslate"><span class="pre">fullname</span></code>.  The argument is the single character or multiple character pattern
to search for.  <code class="docutils literal notranslate"><span class="pre">find</span></code> returns the index where that pattern starts in the value
of <code class="docutils literal notranslate"><span class="pre">fullname</span></code>.</p>
<p>Here are some examples of using <code class="docutils literal notranslate"><span class="pre">find</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;abcde&quot;</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;b&quot;</span><span class="p">))</span>     <span class="c1"># prints 1</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;abcde&quot;</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;cd&quot;</span><span class="p">))</span>    <span class="c1"># prints 2</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;abcde&quot;</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;cash&quot;</span><span class="p">))</span>  <span class="c1"># prints -1, which indicates the</span>
                             <span class="c1"># pattern was not found</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;abcde&quot;</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;abcde&quot;</span><span class="p">))</span> <span class="c1"># prints 0</span>
</pre></div>
</div>
<p>Now that we know how to find a pattern (and specifically, a space) in a string,
consider what that allows us to do.  Suppose we have a sentence that we wish to
break into individual words.  How are words separated in the English language?
If you said “using spaces” then you are correct (for the most part).</p>
<p>Let’s try to do something like this through an example.  If you spend time on
the Web, you might have learned that Internet citizens have tabbed September
19th as “International Talk Like a Pirate Day.”  Imagined pirate-speak draws
from many sources in popular culture.  Fictional pirates might say “Ahoy!”
instead of “Hello!” or they might use the word “matey” to describe a friend.  If
we wanted to translate a single English word into its Pirate equivalent, we
might do something like Listing <a class="reference internal" href="#pirate-one-word"><span class="std std-numref">3.38</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id42">
<span id="pirate-one-word"></span><div class="code-block-caption"><span class="caption-number">Listing 3.38 </span><span class="caption-text">Translating a single pirate word to a single English word</span><a class="headerlink" href="#id42" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">english_word</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter a word: &quot;</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="k">if</span> <span class="n">english_word</span> <span class="o">==</span> <span class="s2">&quot;hello&quot;</span><span class="p">:</span>
<span class="linenos"> 3</span>    <span class="n">pirate_word</span> <span class="o">=</span> <span class="s2">&quot;ahoy&quot;</span>
<span class="linenos"> 4</span><span class="k">elif</span> <span class="n">english_word</span> <span class="o">==</span> <span class="s2">&quot;friend&quot;</span><span class="p">:</span>
<span class="linenos"> 5</span>    <span class="n">pirate_word</span> <span class="o">=</span> <span class="s2">&quot;matey&quot;</span>
<span class="linenos"> 6</span><span class="k">else</span><span class="p">:</span>
<span class="linenos"> 7</span>    <span class="c1"># The word has no known pirate translation.</span>
<span class="linenos"> 8</span>    <span class="c1"># Leave it in English.</span>
<span class="linenos"> 9</span>    <span class="n">pirate_word</span> <span class="o">=</span> <span class="n">english_word</span>
<span class="linenos">10</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> in pirate is </span><span class="si">%s</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">english_word</span><span class="p">,</span> <span class="n">pirate_word</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>What if we wanted to change an entire English sentence into Pirate instead of
just translating a single word?  How would we accomplish that?</p>
<p>Let’s keep this as simple as possible, so for now let’s ignore “edge cases” like
uppercase letters and punctuation.  Let’s only worry about translating
all-lowercase words separated by spaces.</p>
<p>You might not have any idea how to accomplish this in code, but there are a
number of ways to get started.  One way is to realize that every computer
program tends to take input and transform it into output.  If we envision a
program as taking variables and changing their values in order to reach a goal,
we can write down how we want those variables to change, and then write down the
code to perform the changes.</p>
<p>Let’s think about what variables we would want to have to make an
English-to-Pirate translator program work.  Suppose we have two variables, one
named <code class="docutils literal notranslate"><span class="pre">sentence</span></code> and the other named <code class="docutils literal notranslate"><span class="pre">word</span></code>.  <code class="docutils literal notranslate"><span class="pre">sentence</span></code> contains the English
sentence the user types, and <code class="docutils literal notranslate"><span class="pre">word</span></code> will store each word as we extract it from
<code class="docutils literal notranslate"><span class="pre">sentence</span></code>. Each time we extract an English word into <code class="docutils literal notranslate"><span class="pre">word</span></code>, the string in
<code class="docutils literal notranslate"><span class="pre">sentence</span></code> should shrink.</p>
<p>Again, if we are thinking about a program as something that makes changes to
input variables, we can envision a program looping to change <code class="docutils literal notranslate"><span class="pre">sentence</span></code> and
<code class="docutils literal notranslate"><span class="pre">word</span></code> repeatedly.  Here is an example.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">word</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>        <span class="n">sentence</span><span class="p">:</span> <span class="s2">&quot;hi there my friend&quot;</span>
<span class="n">word</span><span class="p">:</span> <span class="s2">&quot;hi&quot;</span>      <span class="n">sentence</span><span class="p">:</span> <span class="s2">&quot;there my friend&quot;</span>
<span class="n">word</span><span class="p">:</span> <span class="s2">&quot;there&quot;</span>   <span class="n">sentence</span><span class="p">:</span> <span class="s2">&quot;my friend&quot;</span>
<span class="n">word</span><span class="p">:</span> <span class="s2">&quot;my&quot;</span>      <span class="n">sentence</span><span class="p">:</span> <span class="s2">&quot;friend&quot;</span>
<span class="n">word</span><span class="p">:</span> <span class="s2">&quot;friend&quot;</span>  <span class="n">sentence</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
</pre></div>
</div>
<p>Think of this process in a loop.  Each time through the loop, we find the index
of the space in <code class="docutils literal notranslate"><span class="pre">sentence</span></code> and put that index into a variable named <code class="docutils literal notranslate"><span class="pre">space</span></code>.  We
use the slicing operator to get the first word in the sentence from <code class="docutils literal notranslate"><span class="pre">0</span></code> to
<code class="docutils literal notranslate"><span class="pre">space</span></code>.  Then, we use the slicing operator again to “shrink” <code class="docutils literal notranslate"><span class="pre">sentence</span></code> so that
<code class="docutils literal notranslate"><span class="pre">sentence</span></code> only contains the remaining words.</p>
<p>This would allow us to translate each word, one at a time.  Let’s write some
code.  Our first attempt is found in Listing~ref{code:pirate_sent1}.</p>
<div class="literal-block-wrapper docutils container" id="id43">
<span id="pirate-sent1"></span><div class="code-block-caption"><span class="caption-number">Listing 3.39 </span><span class="caption-text">Pirate sentence translator, attempt 1</span><a class="headerlink" href="#id43" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">sentence</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter an English sentence: &quot;</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="linenos"> 3</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;word: </span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;</span><span class="s2">, sentence: </span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">sentence</span><span class="p">))</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="n">space</span> <span class="o">=</span> <span class="n">sentence</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="linenos"> 6</span><span class="k">while</span> <span class="n">space</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
<span class="linenos"> 7</span>    <span class="n">word</span> <span class="o">=</span> <span class="n">sentence</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">space</span><span class="p">]</span>
<span class="linenos"> 8</span>    <span class="n">sentence</span> <span class="o">=</span> <span class="n">sentence</span><span class="p">[</span><span class="n">space</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
<span class="linenos"> 9</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;word: </span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;</span><span class="s2">, sentence: </span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">sentence</span><span class="p">))</span>
<span class="linenos">10</span>    <span class="n">space</span> <span class="o">=</span> <span class="n">sentence</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Let’s try it out.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Enter</span> <span class="n">an</span> <span class="n">English</span> <span class="n">sentence</span><span class="p">:</span> <span class="n">hello</span> <span class="n">there</span> <span class="n">my</span> <span class="n">friend</span>
<span class="n">word</span><span class="p">:</span> <span class="s2">&quot;&quot;</span> <span class="n">sentence</span><span class="p">:</span> <span class="s2">&quot;hello there my friend&quot;</span>
<span class="n">word</span><span class="p">:</span> <span class="s2">&quot;hello&quot;</span> <span class="n">sentence</span><span class="p">:</span> <span class="s2">&quot;there my friend&quot;</span>
<span class="n">word</span><span class="p">:</span> <span class="s2">&quot;there&quot;</span> <span class="n">sentence</span><span class="p">:</span> <span class="s2">&quot;my friend&quot;</span>
<span class="n">word</span><span class="p">:</span> <span class="s2">&quot;my&quot;</span> <span class="n">sentence</span><span class="p">:</span> <span class="s2">&quot;friend&quot;</span>
</pre></div>
</div>
<p>This is pretty good, but what about the final word in this example: “friend”.  Since there is no space trailing the last word in the sentence, we will need to add some code after the loop to take care of the last word.  Consider Listing <a class="reference internal" href="#pirate-sent2"><span class="std std-numref">3.40</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id44">
<span id="pirate-sent2"></span><div class="code-block-caption"><span class="caption-number">Listing 3.40 </span><span class="caption-text">Pirate sentence translator, attempt 2</span><a class="headerlink" href="#id44" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">sentence</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter an English sentence: &quot;</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="linenos"> 3</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;word: </span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;</span><span class="s2">, sentence: </span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">sentence</span><span class="p">))</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="n">space</span> <span class="o">=</span> <span class="n">sentence</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="linenos"> 6</span><span class="k">while</span> <span class="n">space</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
<span class="linenos"> 7</span>    <span class="n">word</span> <span class="o">=</span> <span class="n">sentence</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">space</span><span class="p">]</span>
<span class="linenos"> 8</span>    <span class="n">sentence</span> <span class="o">=</span> <span class="n">sentence</span><span class="p">[</span><span class="n">space</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
<span class="linenos"> 9</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;word: </span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;</span><span class="s2">, sentence: </span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">sentence</span><span class="p">))</span>
<span class="linenos">10</span>    <span class="n">space</span> <span class="o">=</span> <span class="n">sentence</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="linenos">11</span>
<span class="hll"><span class="linenos">12</span><span class="k">if</span> <span class="n">sentence</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">13</span>    <span class="n">word</span> <span class="o">=</span> <span class="n">sentence</span>
</span><span class="hll"><span class="linenos">14</span>    <span class="n">sentence</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span class="hll"><span class="linenos">15</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;word: </span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;</span><span class="s2">, sentence: </span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">sentence</span><span class="p">))</span>
</span></pre></div>
</div>
</div>
<p>The highlighted block of code in Listing <a class="reference internal" href="#pirate-sent2"><span class="std std-numref">3.40</span></a> checks to see
if there’s still text residing in <code class="docutils literal notranslate"><span class="pre">sentence</span></code>.</p>
<p>Now all that’s left is to do the translating.  We will take each <code class="docutils literal notranslate"><span class="pre">word</span></code> and
append its translation to a new string which we’ll call <code class="docutils literal notranslate"><span class="pre">pirate</span></code>.  We can get
rid of our <code class="docutils literal notranslate"><span class="pre">print</span></code> statements, too, since they were only there to aid our
understanding of what the code does.  Listing <a class="reference internal" href="#pirate-sent3"><span class="std std-numref">3.41</span></a> is our
final code.</p>
<div class="literal-block-wrapper docutils container" id="id45">
<span id="pirate-sent3"></span><div class="code-block-caption"><span class="caption-number">Listing 3.41 </span><span class="caption-text">Final English-to-Pirate Translator</span><a class="headerlink" href="#id45" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">sentence</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter an English sentence: &quot;</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="linenos"> 3</span><span class="n">pirate</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="n">space</span> <span class="o">=</span> <span class="n">sentence</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="linenos"> 6</span><span class="k">while</span> <span class="n">space</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
<span class="linenos"> 7</span>    <span class="n">word</span> <span class="o">=</span> <span class="n">sentence</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">space</span><span class="p">]</span>
<span class="linenos"> 8</span>    <span class="n">sentence</span> <span class="o">=</span> <span class="n">sentence</span><span class="p">[</span><span class="n">space</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
<span class="linenos"> 9</span>    <span class="k">if</span> <span class="n">word</span> <span class="o">==</span> <span class="s2">&quot;hello&quot;</span><span class="p">:</span>
<span class="linenos">10</span>        <span class="n">pirate</span> <span class="o">=</span> <span class="n">pirate</span> <span class="o">+</span> <span class="s2">&quot;ahoy&quot;</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span>
<span class="linenos">11</span>    <span class="k">elif</span> <span class="n">word</span> <span class="o">==</span> <span class="s2">&quot;friend&quot;</span><span class="p">:</span>
<span class="linenos">12</span>        <span class="n">pirate</span> <span class="o">=</span> <span class="n">pirate</span> <span class="o">+</span> <span class="s2">&quot;matey&quot;</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span>
<span class="linenos">13</span>    <span class="k">else</span><span class="p">:</span>
<span class="linenos">14</span>        <span class="n">pirate</span> <span class="o">=</span> <span class="n">pirate</span> <span class="o">+</span> <span class="n">word</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span>
<span class="linenos">15</span>    <span class="n">space</span> <span class="o">=</span> <span class="n">sentence</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="k">if</span> <span class="n">sentence</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
<span class="linenos">18</span>    <span class="n">word</span> <span class="o">=</span> <span class="n">sentence</span>
<span class="linenos">19</span>    <span class="n">sentence</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="linenos">20</span>    <span class="k">if</span> <span class="n">word</span> <span class="o">==</span> <span class="s2">&quot;hello&quot;</span><span class="p">:</span>
<span class="linenos">21</span>        <span class="n">pirate</span> <span class="o">=</span> <span class="n">pirate</span> <span class="o">+</span> <span class="s2">&quot;ahoy&quot;</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span>
<span class="linenos">22</span>    <span class="k">elif</span> <span class="n">word</span> <span class="o">==</span> <span class="s2">&quot;friend&quot;</span><span class="p">:</span>
<span class="linenos">23</span>        <span class="n">pirate</span> <span class="o">=</span> <span class="n">pirate</span> <span class="o">+</span> <span class="s2">&quot;matey&quot;</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span>
<span class="linenos">24</span>    <span class="k">else</span><span class="p">:</span>
<span class="linenos">25</span>        <span class="n">pirate</span> <span class="o">=</span> <span class="n">pirate</span> <span class="o">+</span> <span class="n">word</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span>
<span class="linenos">26</span>
<span class="linenos">27</span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Your sentence translated to pirate is:&quot;</span><span class="p">)</span>
<span class="linenos">28</span><span class="nb">print</span><span class="p">(</span><span class="n">pirate</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>An example of a running program is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Enter an English sentence: hello there my friend
Your sentence translated to pirate is:
ahoy there my matey
</pre></div>
</div>
<p>We can add more translations by adding more <code class="docutils literal notranslate"><span class="pre">elif</span></code> conditions to the <code class="docutils literal notranslate"><span class="pre">if</span></code>-blocks
of statements, though we must add them both to the <code class="docutils literal notranslate"><span class="pre">while</span></code> loop code and the
<code class="docutils literal notranslate"><span class="pre">if</span></code>-block that follows the <code class="docutils literal notranslate"><span class="pre">while</span></code> loop.  Having to add this logic in two
different places makes the code more difficult to maintain, since we might add
an <code class="docutils literal notranslate"><span class="pre">elif</span></code> to the earlier part of the code but then forget to add it to the later
part of the code.  In Chapter <a class="reference internal" href="ch4_funcs.html#ch-funcs"><span class="std std-numref">4</span></a>, we will examine functions,
which will improve the maintainability of this code dramatically.</p>
</section>
<section id="nested-loops">
<span id="sec-nest-loops"></span><h2><span class="section-number">3.6. </span>Nested loops<a class="headerlink" href="#nested-loops" title="Permalink to this headline">¶</a></h2>
<p>Some interesting and practical things happen when we use a loop as the body of
another loop.  Consider Listing <a class="reference internal" href="#outer-inner"><span class="std std-numref">3.42</span></a>, and try to guess
its output (Well, don’t guess!  Actually try to reason your way through the code.  Guessing is for lazy fools!).</p>
<div class="literal-block-wrapper docutils container" id="id46">
<span id="outer-inner"></span><div class="code-block-caption"><span class="caption-number">Listing 3.42 </span><span class="caption-text">First nested loop example</span><a class="headerlink" href="#id46" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">for</span> <span class="n">outer</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span>
<span class="linenos">2</span>    <span class="k">for</span> <span class="n">inner</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span>
<span class="linenos">3</span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;outer = </span><span class="si">%d</span><span class="s2">, inner = </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">outer</span><span class="p">,</span> <span class="n">inner</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>Let’s follow the code step-by-step as we would with any code.  The first
statement we encounter is <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">outer</span> <span class="pre">in</span> <span class="pre">range(0,</span> <span class="pre">3)</span></code>.  Since this is first time
we’ve encountered this statement, this code sets <code class="docutils literal notranslate"><span class="pre">outer</span></code> to <code class="docutils literal notranslate"><span class="pre">0</span></code> and we enter its
loop body.  The first statement of the loop body is, of course, another loop.
This loop statement is <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">inner</span> <span class="pre">in</span> <span class="pre">range(0,</span> <span class="pre">3)</span></code>.  So, this sets <code class="docutils literal notranslate"><span class="pre">inner</span></code> to <code class="docutils literal notranslate"><span class="pre">0</span></code>
and we enter its loop body.  This means that at this point in the code, we are
actually inside two loops: an inner one, which is inside an outer one.  The
first (and only) statement in the inner loop prints the values of <code class="docutils literal notranslate"><span class="pre">outer</span></code> and
<code class="docutils literal notranslate"><span class="pre">inner</span></code> so that we can see how the values change throughout the program.</p>
<p>We call a loop-inside-a-loop construct a set of <em>nested loops</em>.  That is, the
inner loop is <em>nested</em> inside the outer loop.</p>
<p>Before we continue discussing how these loops work, run the code to see the output.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>outer = 0, inner = 0
outer = 0, inner = 1
outer = 0, inner = 2
outer = 1, inner = 0
outer = 1, inner = 1
outer = 1, inner = 2
outer = 2, inner = 0
outer = 2, inner = 1
outer = 2, inner = 2
</pre></div>
</div>
<p>We can get a pretty good idea of how this works from looking at the output.
Once we enter the outer loop, we encounter the inner loop right away.  Python
will stay in the inner loop until it is completed, and then it will exit to the
outer loop.  The outer loop will increment <code class="docutils literal notranslate"><span class="pre">outer</span></code> by one, and since <code class="docutils literal notranslate"><span class="pre">outer</span></code> is
still within its range, it will enter the outer loop body, which, once again,
will reach the inner loop.  Since we left the inner loop once already, reaching
the inner loop this time is like reaching it for the first time.  The statement
<code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">inner</span> <span class="pre">in</span> <span class="pre">range(0,</span> <span class="pre">3)</span></code> sets <code class="docutils literal notranslate"><span class="pre">inner</span></code> to <code class="docutils literal notranslate"><span class="pre">0</span></code> once again, and the process
repeats itself.</p>
<p>We often use nested loops to write programs in Python.  For one example, suppose
we wish to write a program that repeatedly asks for students’ names and exam
scores.  The output should be students’ names followed by their exam average.
Listing <a class="reference internal" href="#student-avgs"><span class="std std-numref">3.43</span></a> shows how to do this using nested loops.</p>
<div class="literal-block-wrapper docutils container" id="id47">
<span id="student-avgs"></span><div class="code-block-caption"><span class="caption-number">Listing 3.43 </span><span class="caption-text">Computing students’ average scores</span><a class="headerlink" href="#id47" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">student</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Student name? (&#39;quit&#39; to end) &quot;</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="k">while</span> <span class="n">student</span> <span class="o">!=</span> <span class="s2">&quot;quit&quot;</span><span class="p">:</span>
<span class="linenos"> 3</span>    <span class="nb">sum</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="linenos"> 4</span>    <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span>
<span class="linenos"> 5</span>    <span class="n">score</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Score </span><span class="si">%d</span><span class="s2">? (&#39;quit&#39; to end)  &quot;</span> <span class="o">%</span> <span class="n">count</span><span class="p">)</span>
<span class="linenos"> 6</span>    <span class="k">while</span> <span class="n">score</span> <span class="o">!=</span> <span class="s2">&quot;quit&quot;</span><span class="p">:</span>
<span class="linenos"> 7</span>        <span class="n">score</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>
<span class="linenos"> 8</span>        <span class="nb">sum</span> <span class="o">+=</span> <span class="n">score</span>
<span class="linenos"> 9</span>        <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="linenos">10</span>        <span class="n">score</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Score </span><span class="si">%d</span><span class="s2">? (&#39;quit&#39; to end)  &quot;</span> <span class="o">%</span> <span class="n">count</span><span class="p">)</span>
<span class="linenos">11</span>
<span class="linenos">12</span>    <span class="c1"># count is one more than it should be since we</span>
<span class="linenos">13</span>    <span class="c1"># increment count before we quit.</span>
<span class="linenos">14</span>    <span class="n">count</span> <span class="o">-=</span> <span class="mi">1</span>
<span class="linenos">15</span>
<span class="linenos">16</span>    <span class="k">if</span> <span class="n">count</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="linenos">17</span>        <span class="n">average</span> <span class="o">=</span> <span class="nb">sum</span> <span class="o">/</span> <span class="n">count</span>
<span class="linenos">18</span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&#39;s average is </span><span class="si">%.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">student</span><span class="p">,</span> <span class="n">average</span><span class="p">))</span>
<span class="linenos">19</span>    <span class="k">else</span><span class="p">:</span>
<span class="linenos">20</span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No grades entered for </span><span class="si">%s</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="n">student</span><span class="p">)</span>
<span class="linenos">21</span>
<span class="linenos">22</span>    <span class="n">student</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Student name? (&#39;quit&#39; to end) &quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>One thing to note about this code, besides the nested <code class="docutils literal notranslate"><span class="pre">while</span></code> loops, is the
shorthand assignment statements.  Instead of typing</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</div>
<p>we can type</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
<p>This type of shorthand assignment construct works for most operators in Python.</p>
<p>Beyond that observation, we note that the outer <code class="docutils literal notranslate"><span class="pre">while</span></code> loop is responsible for
getting each student’s name.  The inner <code class="docutils literal notranslate"><span class="pre">while</span></code> loop retrieves each score and
adds it to a sum.  Once we exit the inner loop, we can calculate the average
using the sum.  We must be careful to make sure that there are any scores at
all.  If <code class="docutils literal notranslate"><span class="pre">count</span></code> were <code class="docutils literal notranslate"><span class="pre">0</span></code> and we divided by <code class="docutils literal notranslate"><span class="pre">0</span></code> without checking, our program
would crash.</p>
<p>The output of this code might look something like the following depending on
what the user types.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Student name? (&#39;quit&#39; to end) David Chan
Score 1? (&#39;quit&#39; to end)  95.5
Score 2? (&#39;quit&#39; to end)  80.5
Score 3? (&#39;quit&#39; to end)  87.0
Score 4? (&#39;quit&#39; to end)  quit
David Chan&#39;s average is 87.67
Student name? (&#39;quit&#39; to end) Sarah McDowell
Score 1? (&#39;quit&#39; to end)  quit
No grades entered for Sarah McDowell.
Student name? (&#39;quit&#39; to end) quit
</pre></div>
</div>
</section>
<section id="exercises">
<span id="sec-loops-exercises"></span><h2><span class="section-number">3.7. </span>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>Write a program that asks for a word, phrase, or sentence.  The program should then print whether the input is a palindrome.  (Do a Web search to see what a palindrome is.)</p></li>
<li><p>Write a program that repeatedly asks for a number until the user enters “quit.”  The program should print the sum and average of all the numbers.</p></li>
<li><p>What is the output of the following program?</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>What is the output of the following program?</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>What is the output of the following program?</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2"> </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">))</span>
</pre></div>
</div>
</li>
<li><p>Write an English-to-Pirate translator like the one found in Section <a class="reference internal" href="#sec-loop-valid-and-translate"><span class="std std-numref">3.5</span></a>, only have your program repeatedly ask for sentences until the user presses ENTER/RETURN without typing anything.  You can still ignore capitalization and punctuation.</p></li>
<li><p>Do the previous problem again, only this time properly handle capitalization and punctuation.</p></li>
<li><p>Write a program that translates English sentences to Pig Latin.</p>
<p>To form the Pig Latin equivalent of a word, remove the first consonant sound of the word and append it to the end preceded by a dash and followed by “ay”.  Thus, “cat” becomes “at-cay” and “ship” becomes “ip-shay.”   The latter example demonstrates that consonant sounds can be blended consonants.</p>
<p>If an English word begins with a vowel, the word is simply restated with “-way” appended to it.  In other words, “apple” becomes “apple-way.”  Your solution should handle capitalization and punctuation.</p>
<p>Example of a working program:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Enter English (press &#39;ENTER&#39; only to quit): Hey there, Delilah!
The Pig Latin equivalent is: Ey-hay ere-thay, Elilah-day!

Enter English (press &#39;ENTER&#39; only to quit): Welcome to the Apple Store.
The Pig Latin equivalent is: Elcome-way o-tay e-thay Apple-way Ore-stay.

Enter English (press &#39;ENTER&#39; only to quit):

Thank you for using the Pig Latin translator!
</pre></div>
</div>
</li>
<li><p>Write a program that asks for a number and then prints that number of rows of 5 asterisks.  For example, if the user enters 4, the program would print the following.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>*****
*****
*****
*****
</pre></div>
</div>
</li>
<li><p>Write a program that asks for two numbers x and y.  The program should print a rectangle of asterisks consisting of x rows and y columns.  For example, if the user enters 3 and 8, respectively, the program would print the following.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>********
********
********
</pre></div>
</div>
</li>
<li><p>Write a program that asks for a number and then prints a triangle of asterisks where the base has that number of asterisks.  For example, if the user enters 4, the program would print the following.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>*
**
***
****
</pre></div>
</div>
</li>
<li><p>Write a program that asks for a number and then prints an inverted triangle of asterisks where first row contains that number of asterisks.  For example, if the user enters 4, the program would print the following.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>****
***
**
*
</pre></div>
</div>
</li>
<li><p>Python programs are capable of generating random numbers (well, “pseudo”-random numbers – more about that in the next chapter).  One example of how to do this is as follows.</p></li>
</ol>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Here is a random integer between 1 and 10: </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>If you run this program over and over again you’ll see the number change.  We can use random integers to simulate real-life occurrences, including games of chance and movement of animals.</p>
<p>Consider one program that demonstrates the use of random numbers.  A drunkard stumbling around in a grid of streets picks one of four directions (north, south, east, or west) at each intersection, and then he moves to the next intersection.</p>
<p>Write a program that simulates the drunkard’s walk.  Represent each intersection location as (x,y) integer pairs and have the drunkard start at (0,0).  Have the drunkard walk 100 intersections and print the intersection location where he ends up.  Run this program many times.  Does the drunkard tend to stay close to (0,0) or does he end up moving far away?</p>
</div></blockquote>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Conversational Python</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="ch1_basicio_types.html">1. Basic I/O, Statements, Expressions, Variables, and Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch2_cond.html">2. Conditionals</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. Loops and String Manipulation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#while-loops">3.1. <code class="docutils literal notranslate"><span class="pre">while</span></code> loops</a></li>
<li class="toctree-l2"><a class="reference internal" href="#manipulating-and-printing-strings">3.2. Manipulating and printing strings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#for-loops">3.3. <cite>for</cite> loops</a></li>
<li class="toctree-l2"><a class="reference internal" href="#for-loops-with-strings-revisited">3.4. <cite>for</cite> loops with strings, revisited</a></li>
<li class="toctree-l2"><a class="reference internal" href="#loops-for-input-validation-and-translation">3.5. Loops for input validation and translation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#nested-loops">3.6. Nested loops</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exercises">3.7. Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ch4_funcs.html">4. Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch5_lists.html">5. Lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch6_files_excepts.html">6. Files and Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch7_dicts.html">7. Dictionaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch8_searchsort.html">8. Searching and Sorting</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch9_classes.html">9. Classes, Object-Orientation, and Pygame</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="ch2_cond.html" title="previous chapter"><span class="section-number">2. </span>Conditionals</a></li>
      <li>Next: <a href="ch4_funcs.html" title="next chapter"><span class="section-number">4. </span>Functions</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Jason B. Shepherd, Ph.D..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.4.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/ch3_loops.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>