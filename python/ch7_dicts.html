
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>7. Dictionaries &#8212; Conversational Python 2.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="8. Searching and Sorting" href="ch8_searchsort.html" />
    <link rel="prev" title="6. Files and Exceptions" href="ch6_files_excepts.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="dictionaries">
<span id="ch-dict"></span><h1><span class="section-number">7. </span>Dictionaries<a class="headerlink" href="#dictionaries" title="Permalink to this headline">¶</a></h1>
<section id="creating-and-using-dictionaries">
<span id="sec-crud-dict"></span><h2><span class="section-number">7.1. </span>Creating and using dictionaries<a class="headerlink" href="#creating-and-using-dictionaries" title="Permalink to this headline">¶</a></h2>
<p>We can do a lot of things in code using what we know so far.  Some of the things
we can do in code is kind of, well, “clunky.”  Consider the following example.
Suppose we want to keep track of a group of students and their major field of
study.  The only way we know how to do that currently is with lists.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Shayla Succotash&quot;</span><span class="p">,</span> <span class="s2">&quot;Amy Avocado&quot;</span><span class="p">,</span> <span class="s2">&quot;Larry Linguini&quot;</span><span class="p">,</span> <span class="s2">&quot;Kevin Kumquat&quot;</span><span class="p">]</span>
<span class="n">majors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Comp Sci&quot;</span><span class="p">,</span> <span class="s2">&quot;Accounting&quot;</span><span class="p">,</span> <span class="s2">&quot;Math&quot;</span><span class="p">,</span> <span class="s2">&quot;Comp Sci&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>We are using lists to store corresponding attributes of each student.  Each
student has a unique index for their attributes.  Suppose we ran the code that
follows.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">names</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">majors</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">names</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">majors</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
<p>The resulting output of this code is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Amy Avocado
Accounting

Kevin Kumquat
Comp Sci
</pre></div>
</div>
<p>This is all fine, but it’s also a bit awkward.  If we want to know a student’s
major, we have to find their location in the first list, and then use their
index to look up their major in the second list, like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;Kevin Kumquat&quot;</span>
<span class="n">found</span> <span class="o">=</span> <span class="kc">False</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">names</span><span class="p">)):</span>
    <span class="k">if</span> <span class="n">names</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">x</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">majors</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">found</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Couldn&#39;t find a major for </span><span class="si">%s</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>Yuck.  What we really want to do is something more simple, like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;Kevin Kumquat&quot;</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">get_major</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="c1"># m is now &quot;Comp Sci&quot;</span>
</pre></div>
</div>
<p>We could easily define a function like <code class="docutils literal notranslate"><span class="pre">get_major</span></code>, but fortunately we don’t
have to.</p>
<p>To make this easier, we will forgo lists (for now) and use something called
a <em>dictionary</em>.  At first glance, a dictionary is just like an English
dictionary.  With an English dictionary, we look up a word (which is a
string) and next to the word is its definition (also a string).  Python
dictionaries can be used on more than just strings, but we’ll focus on
strings for now.  We can apply this concept of an English dictionary to,
say, look up <code class="docutils literal notranslate"><span class="pre">&quot;Amy</span> <span class="pre">Avocado&quot;</span></code> and receive <code class="docutils literal notranslate"><span class="pre">Accounting</span></code>.</p>
<p>Let’s create a dictionary to <em>associate</em> names with majors.  Here is how we do
it (see Listing <a class="reference internal" href="#majors-dict-def"><span class="std std-numref">7.1</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="id1">
<span id="majors-dict-def"></span><div class="code-block-caption"><span class="caption-number">Listing 7.1 </span><span class="caption-text">Defining a dictionary (<code class="docutils literal notranslate"><span class="pre">dict</span></code>)</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">majors</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Shayla Succotash&quot;</span> <span class="p">:</span> <span class="s2">&quot;Comp Sci&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Amy Avocado&quot;</span> <span class="p">:</span> <span class="s2">&quot;Accounting&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Larry Linguini&quot;</span> <span class="p">:</span> <span class="s2">&quot;Math&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Kevin Kumquat&quot;</span> <span class="p">:</span> <span class="s2">&quot;Comp Sci&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>Now, we can <em>look up</em> majors by typing this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">majors</span><span class="p">[</span><span class="s2">&quot;Shayla Succotash&quot;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">majors</span><span class="p">[</span><span class="s2">&quot;Larry Linguini&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>This produces:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Comp Sci
Math
</pre></div>
</div>
<p>Notice how we <em>create</em> (i.e., <em>define</em>) a dictionary.  We use curly braces
to denote the dictionary type (which is called <code class="docutils literal notranslate"><span class="pre">dict</span></code> kind of like other
types such as <code class="docutils literal notranslate"><span class="pre">str</span></code> and <code class="docutils literal notranslate"><span class="pre">int</span></code>).  We use colons (<code class="docutils literal notranslate"><span class="pre">:</span></code>) to separate the
name from the major.  Also, notice how we use dictionaries to <em>look up</em>
values.  We use square brackets, which looks a lot like how we used lists.</p>
<p>Terminology time!  The values on the left side of the <code class="docutils literal notranslate"><span class="pre">:</span></code> in our dictionary
definition (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;Shayla</span> <span class="pre">Succotash&quot;</span></code>, etc.) are called <em>keys</em>.  The values on
the right (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;Comp</span> <span class="pre">Sci&quot;</span></code>, etc.) are simply called <em>values</em>.  Each entry in
the dictionary that associates a name with a major is called a <em>key-value pair</em>.
<code class="docutils literal notranslate"><span class="pre">&quot;Larry</span> <span class="pre">Linguini&quot;</span></code> and  <code class="docutils literal notranslate"><span class="pre">&quot;Math&quot;</span></code> is an example of a key-value pair.</p>
<p>Okay, so now what?  Well, in this book we often ask questions that start with
“What happens if…” or “What happens when…?” to enhance our understanding of
a topic.  Here’s one: What happens if we try to look up something that doesn’t
exist in the dictionary?  Can we create an example of this in code?  You try it
without looking at the next paragraph.</p>
<p>Were you able to come up with an example?  If so, did it look like
Listing <a class="reference internal" href="#dict-no-key"><span class="std std-numref">7.2</span></a>?</p>
<div class="literal-block-wrapper docutils container" id="id2">
<span id="dict-no-key"></span><div class="code-block-caption"><span class="caption-number">Listing 7.2 </span><span class="caption-text">Attempting to access a key that does not exist</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">majors</span><span class="p">[</span><span class="s2">&quot;Brooklyn Broccolini&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<p>Clearly, there is no key for <cite>“Brooklyn Broccolini”</cite> defined in <cite>majors</cite> in
Listing <a class="reference internal" href="#majors-dict-def"><span class="std std-numref">7.1</span></a>.  What happens when we run the
Listing <a class="reference internal" href="#dict-no-key"><span class="std std-numref">7.2</span></a> code?</p>
<p>Did you try it?  What did you find out?</p>
<p>If we try to specify a key that does not exist in the dictionary, the code
produces a <code class="docutils literal notranslate"><span class="pre">KeyError</span></code>.  We could handle <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> if we so chose, like the code
example found in Listing <a class="reference internal" href="#dict-no-key-except"><span class="std std-numref">7.3</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id3">
<span id="dict-no-key-except"></span><div class="code-block-caption"><span class="caption-number">Listing 7.3 </span><span class="caption-text">Handling <code class="docutils literal notranslate"><span class="pre">KeyError</span></code></span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">student</span> <span class="o">=</span> <span class="s2">&quot;Brooklyn Broccolini&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">majors</span><span class="p">[</span><span class="n">student</span><span class="p">])</span>
<span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There is no major listed for </span><span class="si">%s</span><span class="s2">.&quot;</span> <span class="o">%</span> <span class="n">student</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>If we didn’t want to rely on handling a <code class="docutils literal notranslate"><span class="pre">KeyError</span></code>, we could check first to see
if a certain key exists in a dictionary (see
Listing <a class="reference internal" href="#dict-no-key-check"><span class="std std-numref">7.4</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="id4">
<span id="dict-no-key-check"></span><div class="code-block-caption"><span class="caption-number">Listing 7.4 </span><span class="caption-text">Checking for the existence of a key first</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">if</span> <span class="s2">&quot;Brooklyn Broccolini&quot;</span> <span class="ow">in</span> <span class="n">majors</span><span class="p">:</span>
<span class="linenos">2</span>    <span class="nb">print</span><span class="p">(</span><span class="n">majors</span><span class="p">[</span><span class="s2">&quot;Brooklyn Broccolini&quot;</span><span class="p">])</span>
<span class="linenos">3</span><span class="k">else</span><span class="p">:</span>
<span class="linenos">4</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No major listed for that student.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Even though line 2 could technically raise a <code class="docutils literal notranslate"><span class="pre">KeyError</span></code>, the <code class="docutils literal notranslate"><span class="pre">if</span></code> statement in
line 1 checks first to make sure line 2 won’t raise a <code class="docutils literal notranslate"><span class="pre">KeyError</span></code>.</p>
<p>To see a different example, let’s return to the idea of a Python dictionary as
being similar to an English dictionary.  In an English dictionary, we can look
up a word and find its definition.  The word is a key.  The definition is the
word’s value.</p>
<p>We will now write a program that creates a very small English dictionary that
allows the user to look up definitions of words (see
Listing <a class="reference internal" href="#eng-dict-str"><span class="std std-numref">7.5</span></a>).</p>
<div class="literal-block-wrapper docutils container" id="id5">
<span id="eng-dict-str"></span><div class="code-block-caption"><span class="caption-number">Listing 7.5 </span><span class="caption-text">Using a <code class="docutils literal notranslate"><span class="pre">dict</span></code> to create an English dictionary</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 2</span>    <span class="s2">&quot;alpaca&quot;</span> <span class="p">:</span> <span class="s2">&quot;A domesticated camelid&quot;</span><span class="p">,</span>
<span class="linenos"> 3</span>    <span class="s2">&quot;bow&quot;</span> <span class="p">:</span> <span class="s2">&quot;A weapon that shoots arrows&quot;</span><span class="p">,</span>
<span class="linenos"> 4</span>    <span class="s2">&quot;rose&quot;</span> <span class="p">:</span> <span class="s2">&quot;A prickly bush that produces fragrant flowers&quot;</span><span class="p">,</span>
<span class="linenos"> 5</span><span class="p">}</span>
<span class="linenos"> 6</span>
<span class="linenos"> 7</span><span class="n">word</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter a word to lookup (enter nothing to quit): &quot;</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="k">while</span> <span class="n">word</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
<span class="linenos"> 9</span>    <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
<span class="linenos">10</span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Definition:&quot;</span><span class="p">,</span> <span class="n">d</span><span class="p">[</span><span class="n">word</span><span class="p">])</span>
<span class="linenos">11</span>    <span class="k">else</span><span class="p">:</span>
<span class="linenos">12</span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There is no definition for &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="n">word</span><span class="p">)</span>
<span class="linenos">13</span>
<span class="linenos">14</span>    <span class="n">word</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter a word to lookup (enter nothing to quit): &quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>This is lovely, but English dictionaries often have more than one definition for
a word.  In Listing <a class="reference internal" href="#eng-dict-str"><span class="std std-numref">7.5</span></a>, the key <code class="docutils literal notranslate"><span class="pre">&quot;rose&quot;</span></code> is a homophone.
The word “rose” could also mean “the past tense of rise.”</p>
<p>It appears that we want a key to have multiple values, potentially.  If we
wanted to store multiple values in the past, we have relied on using a <code class="docutils literal notranslate"><span class="pre">list</span></code>.
So, we shall use a <code class="docutils literal notranslate"><span class="pre">list</span></code> once again.  Let us modify the definition of <code class="docutils literal notranslate"><span class="pre">d</span></code> in
Listing <a class="reference internal" href="#eng-dict-str"><span class="std std-numref">7.5</span></a> so that the values are no longer strings, but
rather lists of strings (that is, a <code class="docutils literal notranslate"><span class="pre">list</span></code> of <code class="docutils literal notranslate"><span class="pre">str</span></code>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;alpaca&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;A domesticated camelid&quot;</span><span class="p">],</span>
    <span class="s2">&quot;bow&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;A weapon that shoots arrows&quot;</span><span class="p">,</span>
             <span class="s2">&quot;To bend at the waist&quot;</span><span class="p">,</span>
             <span class="p">],</span>
    <span class="s2">&quot;rose&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;A prickly bush that produces fragrant flowers&quot;</span><span class="p">,</span>
              <span class="s2">&quot;The past tense of rise&quot;</span><span class="p">,</span>
              <span class="p">],</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The expression <code class="docutils literal notranslate"><span class="pre">d[&quot;rose&quot;]</span></code> now yields a <code class="docutils literal notranslate"><span class="pre">list</span></code> of two items: <code class="docutils literal notranslate"><span class="pre">&quot;A</span> <span class="pre">prickly</span> <span class="pre">bush</span> <span class="pre">...&quot;</span></code>
and <code class="docutils literal notranslate"><span class="pre">&quot;The</span> <span class="pre">past</span> <span class="pre">...&quot;</span></code>.  Because the expression <code class="docutils literal notranslate"><span class="pre">d[&quot;rose&quot;]</span></code> produces a <code class="docutils literal notranslate"><span class="pre">list</span></code>, I
can do <code class="docutils literal notranslate"><span class="pre">list</span></code>-things to it.  For example, the expression <code class="docutils literal notranslate"><span class="pre">len(d[&quot;rose&quot;])</span></code>
produces the <code class="docutils literal notranslate"><span class="pre">int</span></code> value <code class="docutils literal notranslate"><span class="pre">2</span></code>, and the expression <code class="docutils literal notranslate"><span class="pre">d[&quot;rose&quot;][1]</span></code> produces the
<code class="docutils literal notranslate"><span class="pre">str</span></code> value <code class="docutils literal notranslate"><span class="pre">&quot;The</span> <span class="pre">past</span> <span class="pre">tense</span> <span class="pre">of</span> <span class="pre">rise&quot;</span></code>.</p>
<p>When we look up a word the user enters, we can use a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop to show each of
the definitions.  See how we have modified Listing <a class="reference internal" href="#eng-dict-str"><span class="std std-numref">7.5</span></a> to
create Listing <a class="reference internal" href="#eng-dict-list"><span class="std std-numref">7.6</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id6">
<span id="eng-dict-list"></span><div class="code-block-caption"><span class="caption-number">Listing 7.6 </span><span class="caption-text">Using a <code class="docutils literal notranslate"><span class="pre">dict</span></code> to print word meanings</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 2</span>    <span class="s2">&quot;alpaca&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;A domesticated camelid&quot;</span><span class="p">],</span>
<span class="linenos"> 3</span>    <span class="s2">&quot;bow&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;A weapon that shoots arrows&quot;</span><span class="p">,</span>
<span class="linenos"> 4</span>             <span class="s2">&quot;To bend at the waist&quot;</span><span class="p">,</span>
<span class="linenos"> 5</span>             <span class="p">],</span>
<span class="linenos"> 6</span>    <span class="s2">&quot;rose&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;A prickly bush that produces fragrant flowers&quot;</span><span class="p">,</span>
<span class="linenos"> 7</span>              <span class="s2">&quot;The past tense of rise&quot;</span><span class="p">,</span>
<span class="linenos"> 8</span>              <span class="p">],</span>
<span class="linenos"> 9</span><span class="p">}</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="n">word</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter a word to lookup (enter nothing to quit): &quot;</span><span class="p">)</span>
<span class="linenos">12</span><span class="k">while</span> <span class="n">word</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
<span class="linenos">13</span>    <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
<span class="linenos">14</span>        <span class="k">for</span> <span class="n">defn</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="n">word</span><span class="p">]:</span>
<span class="linenos">15</span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Definition:&quot;</span><span class="p">,</span> <span class="n">defn</span><span class="p">)</span>
<span class="linenos">16</span>    <span class="k">else</span><span class="p">:</span>
<span class="linenos">17</span>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There is no definition for &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span> <span class="o">%</span> <span class="n">word</span><span class="p">)</span>
<span class="linenos">18</span>
<span class="linenos">19</span>    <span class="n">word</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter a word to lookup (enter nothing to quit): &quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>There’s an interesting tidbit in Listing <a class="reference internal" href="#eng-dict-list"><span class="std std-numref">7.6</span></a> you may have
missed.  Note lines 14 and 15.  My initial choice for a variable name was <code class="docutils literal notranslate"><span class="pre">def</span></code>.
However, <code class="docutils literal notranslate"><span class="pre">def</span></code> is a reserved keyword in Python, which we know is used to define
functions.  So, I had to chose another variable name.  Instead, I chose <code class="docutils literal notranslate"><span class="pre">defn</span></code>
to stand for “definition.”</p>
<p>What if we want to remove a key-value pair from a dictionary?  We can use the
<code class="docutils literal notranslate"><span class="pre">del</span></code> keyword to accomplish this.  Consider Listing <a class="reference internal" href="#del-dict-pair"><span class="std std-numref">7.7</span></a>,
specifically line 13.</p>
<div class="literal-block-wrapper docutils container" id="id7">
<span id="del-dict-pair"></span><div class="code-block-caption"><span class="caption-number">Listing 7.7 </span><span class="caption-text">Deleting a key-value pair from a <code class="docutils literal notranslate"><span class="pre">dict</span></code></span><a class="headerlink" href="#id7" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos"> 2</span>    <span class="s2">&quot;alpaca&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;A domesticated camelid&quot;</span><span class="p">],</span>
<span class="linenos"> 3</span>    <span class="s2">&quot;bow&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;A weapon that shoots arrows&quot;</span><span class="p">,</span>
<span class="linenos"> 4</span>             <span class="s2">&quot;To bend at the waist&quot;</span><span class="p">,</span>
<span class="linenos"> 5</span>             <span class="p">],</span>
<span class="linenos"> 6</span>    <span class="s2">&quot;rose&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;A prickly bush that produces fragrant flowers&quot;</span><span class="p">,</span>
<span class="linenos"> 7</span>              <span class="s2">&quot;The past tense of rise&quot;</span><span class="p">,</span>
<span class="linenos"> 8</span>              <span class="p">],</span>
<span class="linenos"> 9</span><span class="p">}</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="n">word</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter a word to remove from the dictionary: &quot;</span><span class="p">)</span>
<span class="linenos">12</span><span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
<span class="hll"><span class="linenos">13</span>    <span class="k">del</span> <span class="n">d</span><span class="p">[</span><span class="n">word</span><span class="p">]</span>
</span><span class="linenos">14</span><span class="k">else</span><span class="p">:</span>
<span class="linenos">15</span>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Sorry, </span><span class="si">%s</span><span class="s2"> doesn&#39;t seem to be defined in our dictionary.&quot;</span> <span class="o">%</span> <span class="n">word</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>If the user were to type <code class="docutils literal notranslate"><span class="pre">alpaca</span></code>, the pair for the key <code class="docutils literal notranslate"><span class="pre">&quot;alpaca&quot;</span></code> would be
removed.  Only the pairs for the keys <code class="docutils literal notranslate"><span class="pre">&quot;bow&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;rose&quot;</span></code> would remain.
(Readers will note that removing alpacas from the dictionary would be a terrible
calamity because they are adorable and charming.  Llamas, on the other hand, are
jerks.)</p>
</section>
<section id="iterating-through-dictionaries">
<span id="sec-iter-dict"></span><h2><span class="section-number">7.2. </span>Iterating through dictionaries<a class="headerlink" href="#iterating-through-dictionaries" title="Permalink to this headline">¶</a></h2>
<p>There may be instances where we wish to iterate through a <code class="docutils literal notranslate"><span class="pre">dict</span></code> similar to how
we might traverse a <code class="docutils literal notranslate"><span class="pre">list</span></code>.  Suppose have the following dictionary definition.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">calories</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;egg&quot;</span> <span class="p">:</span> <span class="mf">80.0</span><span class="p">,</span>
    <span class="s2">&quot;milk&quot;</span> <span class="p">:</span> <span class="mf">80.0</span><span class="p">,</span>
    <span class="s2">&quot;cheerios&quot;</span> <span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
    <span class="s2">&quot;blueberry&quot;</span> <span class="p">:</span> <span class="mf">0.78</span><span class="p">,</span>
    <span class="s2">&quot;strawberry&quot;</span> <span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">calories</span></code> is a <code class="docutils literal notranslate"><span class="pre">dict</span></code> that acts as a food database.  It allows programmers to
look up the calories for a given food.  Thus, <code class="docutils literal notranslate"><span class="pre">calories[&quot;strawberry&quot;]</span></code> gives us
<code class="docutils literal notranslate"><span class="pre">4.0</span></code>.  Suppose we want to see all the foods in our database.  We might write
the following code.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">food</span> <span class="ow">in</span> <span class="n">calories</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">food</span><span class="p">)</span>
</pre></div>
</div>
<p>When a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop operates on a dictionary, the value assigned to the variable
<code class="docutils literal notranslate"><span class="pre">food</span></code> is actually the <em>key</em>.  The output of this code is each of the keys (the
food names), one on each line.</p>
<p>Now, run this code.  Run it several times.  What do you notice?  In all
likelihood, the ordering changes for the food names.  We cannot rely on the keys
to be kept in order when we use a dictionary.  If we want the keys to be sorted
alphabetically, we would need to do something like what we see in
Listing <a class="reference internal" href="#sorted-dict-iter"><span class="std std-numref">7.8</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="id8">
<span id="sorted-dict-iter"></span><div class="code-block-caption"><span class="caption-number">Listing 7.8 </span><span class="caption-text">Iterating through keys of a <code class="docutils literal notranslate"><span class="pre">dict</span></code></span><a class="headerlink" href="#id8" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">for</span> <span class="n">food</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">calories</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
<span class="linenos">2</span>    <span class="nb">print</span><span class="p">(</span><span class="n">food</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">keys()</span></code> creates a <code class="docutils literal notranslate"><span class="pre">list</span></code> of the keys in <code class="docutils literal notranslate"><span class="pre">calories</span></code>.  <code class="docutils literal notranslate"><span class="pre">sorted</span></code> then returns a
new <code class="docutils literal notranslate"><span class="pre">list</span></code> with the keys in alphabetical order.</p>
<p>If you’re curious why the keys are ordered differently when you iterate through
them using a loop, you’ll learn more when you take a class on data structures
and learn about <em>hash tables</em>. Hash tables are used to make dictionaries.  (Very
curious readers should look on YouTube for a video from PyCon 2010 titled
“Mighty Dictionary.” This will give you an idea how hash tables work and how
they organize the internals of a dictionary.)</p>
</section>
<section id="exercises">
<span id="sec-dict-exercises"></span><h2><span class="section-number">7.3. </span>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>Given the following <code class="docutils literal notranslate"><span class="pre">dict</span></code> definition</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;a&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span> <span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
</pre></div>
</div>
<p>write the type and value of each of the following expressions.  If there is an error, state the error instead.</p>
<ol class="loweralpha simple">
<li><p><code class="docutils literal notranslate"><span class="pre">d</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">d[&quot;b&quot;]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">d[2]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">d[&quot;x&quot;]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span> <span class="pre">in</span> <span class="pre">d</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">in</span> <span class="pre">d</span></code></p></li>
</ol>
</li>
<li><p>Given the following <code class="docutils literal notranslate"><span class="pre">dict</span></code> definition</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;a&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span> <span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
</pre></div>
</div>
<p>write code that adds a new key <code class="docutils literal notranslate"><span class="pre">&quot;d&quot;</span></code> and gives it the value <code class="docutils literal notranslate"><span class="pre">4</span></code>, and then modifies the key <code class="docutils literal notranslate"><span class="pre">&quot;c&quot;</span></code> and gives it the value <code class="docutils literal notranslate"><span class="pre">&quot;radish&quot;</span></code>.</p>
</li>
<li><p>Write a function that stores a <code class="docutils literal notranslate"><span class="pre">dict</span></code> to a file.  The function’s name should be <code class="docutils literal notranslate"><span class="pre">dict_to_file</span></code> and it should have two parameters.  The first parameter should be the <code class="docutils literal notranslate"><span class="pre">dict</span></code>.  The second parameter should be the new file’s name.  Assume that each key is a <code class="docutils literal notranslate"><span class="pre">str</span></code> and each value is also a <code class="docutils literal notranslate"><span class="pre">str</span></code>.  The format of the file should be each key on a line followed by its value on the next line.</p></li>
<li><p>Write a function that creates a <code class="docutils literal notranslate"><span class="pre">dict</span></code> and fills its contents using lines from a file.  The function’s name should be <code class="docutils literal notranslate"><span class="pre">file_to_dict</span></code> and it should have one parameter: the name of the file.  The function should return the <code class="docutils literal notranslate"><span class="pre">dict</span></code> it creates.  Assume the file’s format consists of a key on a single line followed by the key’s value on the line after it.  Also assume both the key and the value are strings.</p></li>
<li><p>Write a function that stores a <code class="docutils literal notranslate"><span class="pre">dict</span></code> that maps strings to lists into a file.  The function’s name should be <code class="docutils literal notranslate"><span class="pre">str2list_to_file</span></code> and it should have two parameters.  The first parameter should be the <code class="docutils literal notranslate"><span class="pre">dict</span></code>.  The second parameter should be the new file’s name.  Assume that each key is a <code class="docutils literal notranslate"><span class="pre">str</span></code> and each value is a <code class="docutils literal notranslate"><span class="pre">list</span></code>.  The format of the file should be each key on a line followed by a series of lines, where each line is an item in the <code class="docutils literal notranslate"><span class="pre">list</span></code>.  The lines that are keys should be prefixed with the string <code class="docutils literal notranslate"><span class="pre">&quot;K:&quot;</span></code>.  This will tell us which lines are keys and which are values.</p>
<p>For example, suppose we define</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">names</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;Anderson&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Steve&quot;</span><span class="p">,</span> <span class="s2">&quot;Tyler&quot;</span><span class="p">],</span> <span class="s2">&quot;Smith&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="n">Susie</span><span class="p">,</span> <span class="n">Aaron</span><span class="p">]</span> <span class="p">}</span>
</pre></div>
</div>
<p>calling <code class="docutils literal notranslate"><span class="pre">str2list_to_file(names,</span> <span class="pre">&quot;names.txt&quot;)</span></code> should create a file named <code class="docutils literal notranslate"><span class="pre">names.txt</span></code> that has the contents</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>K:Anderson
Steve
Tyler
K:Smith
Susie
Aaron
</pre></div>
</div>
</li>
</ol>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Conversational Python</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="ch1_basicio_types.html">1. Basic I/O, Statements, Expressions, Variables, and Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch2_cond.html">2. Conditionals</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch3_loops.html">3. Loops and String Manipulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch4_funcs.html">4. Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch5_lists.html">5. Lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch6_files_excepts.html">6. Files and Exceptions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">7. Dictionaries</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#creating-and-using-dictionaries">7.1. Creating and using dictionaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="#iterating-through-dictionaries">7.2. Iterating through dictionaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exercises">7.3. Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ch8_searchsort.html">8. Searching and Sorting</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch9_classes.html">9. Classes, Object-Orientation, and Pygame</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="ch6_files_excepts.html" title="previous chapter"><span class="section-number">6. </span>Files and Exceptions</a></li>
      <li>Next: <a href="ch8_searchsort.html" title="next chapter"><span class="section-number">8. </span>Searching and Sorting</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Jason B. Shepherd, Ph.D..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.4.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/ch7_dicts.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>